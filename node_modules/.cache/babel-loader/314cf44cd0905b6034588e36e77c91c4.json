{"ast":null,"code":"const getFromData = (container, ignores, integerKeys) => {\n  const serializeIgnores = ignores | [];\n  const form = container.currentTarget;\n  const formElements = form.elements;\n  let validationResult = {};\n  let formData = {};\n\n  for (let i = 0; i < formElements.length; i++) {\n    const element = formElements[i];\n    let {\n      name,\n      dataset,\n      value,\n      selectedOption,\n      type,\n      checked\n    } = element;\n    const regexString = dataset.regex;\n    const regex = regexString && new RegExp(regexString, 'i');\n    const isValid = regex && value ? regex.test(value) : true;\n    const elmResult = element.hasAttribute('required') && value === '' ? {\n      error: 'empty'\n    } : !isValid ? {\n      error: 'invalid'\n    } : null;\n\n    if (elmResult) {\n      validationResult[name] = elmResult;\n    }\n\n    if (name !== \"\") {\n      if (integerKeys && integerKeys.includes(name)) {\n        value = parseInt(value);\n      }\n\n      if (type === 'checkbox') {\n        value = value === 'true';\n      }\n\n      if (type === 'radio' && checked) {\n        formData[name] = value;\n      }\n\n      if (type !== 'radio') {\n        formData[name] = value;\n      }\n    }\n  }\n\n  return {\n    formData,\n    validationResult: Object.keys(validationResult).length > 0 && validationResult\n  };\n};\n\nexport { getFromData };","map":{"version":3,"sources":["/home/freedom/Music/tcp2.0-frontend/src/components/commons/utility.js"],"names":["getFromData","container","ignores","integerKeys","serializeIgnores","form","currentTarget","formElements","elements","validationResult","formData","i","length","element","name","dataset","value","selectedOption","type","checked","regexString","regex","RegExp","isValid","test","elmResult","hasAttribute","error","includes","parseInt","Object","keys"],"mappings":"AAAA,MAAMA,WAAW,GAAG,CAACC,SAAD,EAAYC,OAAZ,EAAqBC,WAArB,KAAqC;AAErD,QAAMC,gBAAgB,GAAGF,OAAO,GAAG,EAAnC;AAEA,QAAMG,IAAI,GAAGJ,SAAS,CAACK,aAAvB;AAEA,QAAMC,YAAY,GAAGF,IAAI,CAACG,QAA1B;AAEA,MAAIC,gBAAgB,GAAG,EAAvB;AAEA,MAAIC,QAAQ,GAAG,EAAf;;AAEA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,YAAY,CAACK,MAAhC,EAAwCD,CAAC,EAAzC,EACA;AACI,UAAME,OAAO,GAAGN,YAAY,CAACI,CAAD,CAA5B;AAEA,QAAI;AAAEG,MAAAA,IAAF;AAAQC,MAAAA,OAAR;AAAiBC,MAAAA,KAAjB;AAAwBC,MAAAA,cAAxB;AAAwCC,MAAAA,IAAxC;AAA8CC,MAAAA;AAA9C,QAA0DN,OAA9D;AAEA,UAAMO,WAAW,GAAGL,OAAO,CAACM,KAA5B;AAEA,UAAMA,KAAK,GAAGD,WAAW,IAAI,IAAIE,MAAJ,CAAWF,WAAX,EAAwB,GAAxB,CAA7B;AAEA,UAAMG,OAAO,GAAGF,KAAK,IAAIL,KAAT,GAAiBK,KAAK,CAACG,IAAN,CAAWR,KAAX,CAAjB,GAAoC,IAApD;AAEA,UAAMS,SAAS,GAAGZ,OAAO,CAACa,YAAR,CAAqB,UAArB,KAAoCV,KAAK,KAAK,EAA9C,GAAmD;AAAEW,MAAAA,KAAK,EAAE;AAAT,KAAnD,GAAwE,CAACJ,OAAD,GAAW;AAAEI,MAAAA,KAAK,EAAE;AAAT,KAAX,GAAkC,IAA5H;;AAEA,QAAGF,SAAH,EACA;AACIhB,MAAAA,gBAAgB,CAACK,IAAD,CAAhB,GAAyBW,SAAzB;AACH;;AAED,QAAGX,IAAI,KAAK,EAAZ,EACA;AACI,UAAGX,WAAW,IAAIA,WAAW,CAACyB,QAAZ,CAAqBd,IAArB,CAAlB,EACA;AACIE,QAAAA,KAAK,GAAGa,QAAQ,CAACb,KAAD,CAAhB;AACH;;AAED,UAAGE,IAAI,KAAK,UAAZ,EACA;AACIF,QAAAA,KAAK,GAAGA,KAAK,KAAK,MAAlB;AACH;;AAED,UAAGE,IAAI,KAAK,OAAT,IAAoBC,OAAvB,EACA;AACIT,QAAAA,QAAQ,CAACI,IAAD,CAAR,GAAiBE,KAAjB;AACH;;AAED,UAAGE,IAAI,KAAK,OAAZ,EACA;AACIR,QAAAA,QAAQ,CAACI,IAAD,CAAR,GAAiBE,KAAjB;AACH;AAEJ;AACJ;;AAED,SAAO;AACHN,IAAAA,QADG;AAEHD,IAAAA,gBAAgB,EAAEqB,MAAM,CAACC,IAAP,CAAYtB,gBAAZ,EAA8BG,MAA9B,GAAuC,CAAvC,IAA4CH;AAF3D,GAAP;AAIH,CA5DD;;AA+DA,SACIT,WADJ","sourcesContent":["const getFromData = (container, ignores, integerKeys) => {\n\n    const serializeIgnores = ignores | [];\n\n    const form = container.currentTarget;\n\n    const formElements = form.elements;\n\n    let validationResult = {};\n\n    let formData = {};\n\n    for(let i = 0; i < formElements.length; i++)\n    {\n        const element = formElements[i];\n\n        let { name, dataset, value, selectedOption, type, checked } = element;\n\n        const regexString = dataset.regex;\n\n        const regex = regexString && new RegExp(regexString, 'i');\n\n        const isValid = regex && value ? regex.test(value): true;\n\n        const elmResult = element.hasAttribute('required') && value === '' ? { error: 'empty' } : !isValid ? { error: 'invalid' } : null;\n\n        if(elmResult) \n        {\n            validationResult[name] = elmResult;\n        }\n\n        if(name !== \"\")\n        {\n            if(integerKeys && integerKeys.includes(name))\n            {\n                value = parseInt(value);\n            }\n\n            if(type === 'checkbox') \n            {\n                value = value === 'true';\n            }\n\n            if(type === 'radio' && checked) \n            {\n                formData[name] = value;\n            }\n\n            if(type !== 'radio') \n            {\n                formData[name] = value;\n            }\n\n        }\n    }\n\n    return {\n        formData,\n        validationResult: Object.keys(validationResult).length > 0 && validationResult\n    };    \n};\n\n\nexport {\n    getFromData\n};"]},"metadata":{},"sourceType":"module"}