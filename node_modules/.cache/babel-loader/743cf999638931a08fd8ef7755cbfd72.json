{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp2.0-frontend/src/screens/Sales/Product.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Row, Col, Modal } from 'react-bootstrap';\nimport Header from '../../components/Sales/Header';\nimport Header2 from '../../components/Sales/Header2';\nimport Footer from '../../components/Sales/Footer';\nimport { RadioGroup } from '../../components/Checkbox';\nimport { addProduct, removeProduct, changeProduct, clearCustomer, changeCustomer } from '../../redux/actions/customer';\nimport { INITIAL_PRODUCT } from '../../redux/reducers/customer';\nimport { productOptions } from '../../assets/options';\nimport { IconHome } from '../../assets/images';\nimport { taxCalculationFlag, taxCalculationPrice } from './setTaxCaluculation';\n\nclass ProductScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      backModal: false,\n      clearModal: false,\n      clearFor: 'clear' // clear, cancel\n\n    };\n\n    this.componentDidMount = () => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        products,\n        contact\n      } = this.props.customer;\n      const {\n        main_app\n      } = contact;\n      const {\n        product_type,\n        price,\n        tax\n      } = products[id] || products;\n      let taxIfPriceChange = 0;\n      taxIfPriceChange = taxCalculationPrice(product_type, main_app.state, price, tax);\n      this.changeState({\n        tax: taxIfPriceChange\n      });\n\n      if (id >= products.length) {\n        this.props.history.replace('/sales');\n      }\n    };\n\n    this.changeState = data => {\n      const id = parseInt(this.props.match.params.id);\n      this.props.changeProduct(id, data);\n    };\n\n    this.changeCustomerState = data => {\n      this.props.changeCustomer(data);\n    };\n\n    this.handleBackModalClose = () => {\n      this.setState({\n        backModal: false\n      });\n    };\n\n    this.handleBackModalYes = () => {\n      this.props.clearCustomer();\n      this.props.history.replace('/sales');\n    };\n\n    this.handleClearModalClose = () => {\n      this.setState({\n        clearModal: false,\n        clearFor: 'clear'\n      });\n    };\n\n    this.handleClearModalYes = () => {\n      const {\n        clearFor\n      } = this.state;\n\n      if (clearFor === 'cancel') {\n        const {\n          customer,\n          history\n        } = this.props;\n        const id = parseInt(this.props.match.params.id);\n        const {\n          contact\n        } = customer;\n        this.props.removeProduct(id);\n\n        if (contact && contact.type && contact.type === 'preorder') {\n          history.push('/preapprovals');\n        } else {\n          this.setState({\n            clearModal: false\n          });\n\n          if (id === 0) {\n            history.replace('/contact');\n          } else {\n            history.replace('/summary');\n          }\n        }\n      } else {\n        this.changeState({ ...INITIAL_PRODUCT\n        });\n      }\n\n      this.setState({\n        clearModal: false,\n        clearFor: 'clear'\n      });\n    };\n\n    this.onCancel = () => {\n      this.setState({\n        clearFor: 'cancel',\n        clearModal: true\n      });\n    };\n\n    this.onSave = () => {\n      this.changeState({\n        saved: true\n      });\n      this.props.history.replace('/summary');\n    };\n\n    this.changeProductType = (type, price) => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        contact,\n        products\n      } = this.props.customer;\n      const {\n        main_app\n      } = contact;\n      const {\n        tax\n      } = products[id] || products;\n      let taxIfPriceChange = 0;\n      taxIfPriceChange = taxCalculationPrice(type, main_app.state, price, tax);\n      this.changeState({\n        product_type: type,\n        tax: taxIfPriceChange\n      });\n    };\n\n    this.validateInput = (origin, target) => {\n      if (target === \"\") {\n        return \"0\";\n      }\n\n      if (origin === 0) {\n        return target.replace(\"0\", \"\");\n      }\n\n      if (target.length >= 2 && target[0] === \"0\" && target[1] !== \".\") {\n        return target.substring(1);\n      }\n\n      return target;\n    };\n\n    this.renderListPrice = () => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        price,\n        tax,\n        product_type\n      } = this.props.customer.products[id];\n      return /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, \"List Price\"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input_symbol\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n        value: price,\n        onChange: e => {\n          this.taxPrice(this.validateInput(price, e.target.value), tax, product_type);\n          this.changeState({\n            price: this.validateInput(price, e.target.value)\n          });\n        },\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      })));\n    };\n\n    this.taxPrice = (price, taxValue, product_type) => {\n      let taxIfPriceChange = 0;\n      const {\n        contact\n      } = this.props.customer;\n      const {\n        main_app\n      } = contact;\n      taxIfPriceChange = taxCalculationPrice(product_type, main_app.state, price, taxValue);\n      this.changeState({\n        tax: taxIfPriceChange\n      });\n    };\n\n    this.renderAddDiscount = () => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        add_discount\n      } = this.props.customer.products[id];\n      return /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }\n      }, \"Add. discount\"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input_symbol\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }\n      }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n        value: add_discount,\n        onChange: e => this.changeState({\n          add_discount: this.validateInput(add_discount, e.target.value)\n        }),\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }\n      })));\n    };\n\n    this.renderCouponGroup = () => {\n      const id = parseInt(this.props.match.params.id);\n      const coupon = this.props.customer.products[id].coupon;\n      return /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }\n      }, \"Coupon\"), /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        value: coupon,\n        onChange: e => this.changeState({\n          coupon: e.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }\n      }, \"$0\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 25,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }\n      }, \"$25\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 50,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }\n      }, \"$50\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 75,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }\n      }, \"$75\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }\n      }, \"$100\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 125,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }\n      }, \"$125\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 150,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }\n      }, \"$150\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 175,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }\n      }, \"$175\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 200,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }\n      }, \"$200\")));\n    };\n  }\n\n  render() {\n    const {\n      clearFor\n    } = this.state;\n    const id = parseInt(this.props.match.params.id);\n    const {\n      products,\n      contact\n    } = this.props.customer;\n    const {\n      main_app\n    } = contact;\n\n    if (isNaN(id) || id >= products.length) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      });\n    }\n\n    const {\n      product_type,\n      price,\n      total_discount,\n      coupon,\n      add_discount,\n      tax,\n      cash_credit,\n      check,\n      finance_period,\n      makemodel,\n      saved\n    } = products[id];\n    const net_price = parseFloat(price) * (100 - parseFloat(total_discount)) / 100 - parseFloat(add_discount) - parseInt(coupon);\n    const balance = net_price + parseFloat(tax);\n    const down_payment = parseFloat(cash_credit) + parseFloat(check);\n    const unpaid_balance = balance - down_payment;\n    let monthly_minimum = 0;\n\n    if (product_type === 'FOOD') {\n      monthly_minimum = finance_period === 0 ? 0 : unpaid_balance / finance_period;\n    } else if (product_type === 'FSP' || product_type === 'APP') {\n      monthly_minimum = unpaid_balance * (finance_period === 36 ? 0.035 : finance_period === 48 ? 0.03 : 0);\n    }\n\n    const activeState = product_type !== '' && !isNaN(parseFloat(price)) && parseFloat(price) !== 0 && !isNaN(parseFloat(tax)) && !isNaN(parseFloat(total_discount)) && !isNaN(parseFloat(add_discount)) && !isNaN(parseInt(coupon)) && !isNaN(parseFloat(cash_credit)) && !isNaN(parseFloat(check)) && !(unpaid_balance > 0 && finance_period === 0);\n    let options = productOptions;\n\n    if (products.length >= 1) {\n      if (id !== 0) {\n        options = options.filter(option => option.value !== products[0].product_type);\n      }\n\n      if (products.length === 2 && id !== 1) {\n        options = options.filter(option => option.value !== products[1].product_type);\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sales\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.backModal,\n      onHide: this.handleBackModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }, \"Returning to the Start Screen will cause you to lose all progress on this customer.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 25\n      }\n    }, \"Do you wish to continue?\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleBackModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 25\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleBackModalYes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 25\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.clearModal,\n      onHide: this.handleClearModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }\n    }, clearFor === 'cancel' ? 'Cancelling' : 'Clearing', \" this form will cause you to lose all progress on this Sales Slip.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }\n    }, \"Are you sure you want to continue?\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClearModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 25\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleClearModalYes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 25\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Header, {\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: IconHome,\n      alt: \"home\",\n      className: \"icon-home\",\n      onClick: () => this.setState({\n        backModal: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main product-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header2, {\n      id: id,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      options: options,\n      value: product_type,\n      onChangeValue: val => this.changeProductType(val, price),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    })), product_type !== '' && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-or-services\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      value: makemodel,\n      onChange: e => {\n        const value = e.target.value;\n\n        if ((value.match(/\\n/g) || []).length < 6) {\n          this.changeState({\n            makemodel: value\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 37\n      }\n    })), product_type === 'FOOD' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 45\n      }\n    }, this.renderListPrice())), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 53\n      }\n    }, \"Total Discount\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: total_discount,\n      onChange: e => this.changeState({\n        total_discount: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 57\n      }\n    }, \"0%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 57\n      }\n    }, \"5%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 57\n      }\n    }, \"10%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 57\n      }\n    }, \"15%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 57\n      }\n    }, \"20%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 25,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 57\n      }\n    }, \"25%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 30,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 57\n      }\n    }, \"30%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 35,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 57\n      }\n    }, \"35%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 40,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 57\n      }\n    }, \"40%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 45,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 57\n      }\n    }, \"45%\")))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 45\n      }\n    }, this.renderCouponGroup()), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 45\n      }\n    }, this.renderAddDiscount()))) : /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 41\n      }\n    }, this.renderListPrice()), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 41\n      }\n    }, this.renderAddDiscount()), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 41\n      }\n    }, this.renderCouponGroup())), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 45\n      }\n    }, \"Net Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: net_price.toFixed(2),\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 45\n      }\n    }, \"Tax\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: tax,\n      onChange: e => {\n        this.changeState({\n          tax: parseFloat(this.validateInput(tax, e.target.value)).toFixed(2)\n        });\n      },\n      type: \"number\",\n      className: taxCalculationFlag(product_type, main_app.state) ? 'not-allowed' : '',\n      disabled: taxCalculationFlag(product_type, main_app.state),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 45\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: balance.toFixed(2),\n      className: \"fixed_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"deposit-amounts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 33\n      }\n    }, \"DEPOSIT AMOUNTS\"), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 45\n      }\n    }, \"Cash / Credit\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: cash_credit,\n      onChange: e => this.changeState({\n        cash_credit: this.validateInput(cash_credit, e.target.value)\n      }),\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 45\n      }\n    }, \"Check\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: check,\n      onChange: e => this.changeState({\n        check: this.validateInput(check, e.target.value)\n      }),\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 45\n      }\n    }, \"Down Payment\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: down_payment,\n      className: \"fixed_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginTop: 15,\n        marginBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      style: {\n        textAlign: 'right',\n        paddingRight: 15,\n        marginTop: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 41\n      }\n    }, \"Unpaid Balance\")), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 41\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: unpaid_balance.toFixed(2),\n      className: \"fixed_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 45\n      }\n    }, \"Finance Period\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: finance_period,\n      onChange: e => this.changeState({\n        finance_period: parseInt(e.target.value)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 45\n      }\n    }, (product_type === 'FSP' || product_type === 'APP') && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 57\n      }\n    }, \"0 months\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 36,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 57\n      }\n    }, \"36 months\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 48,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 57\n      }\n    }, \"48 months\")), product_type === 'FOOD' && [...Array(13)].map((val, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: `month_${index}`,\n      value: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 57\n      }\n    }, index, \" months\"))))), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 45\n      }\n    }, \"Monthly Minimum\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: monthly_minimum.toFixed(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 49\n      }\n    }))))))), product_type !== '' && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 29\n      }\n    }, \"Price: \", price), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 29\n      }\n    }, \"Unpaid : \", unpaid_balance.toFixed(2)), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 29\n      }\n    }, \"Monthly: \", monthly_minimum.toFixed(2)))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 17\n      }\n    }, activeState && /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        textAlign: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 29\n      }\n    }, unpaid_balance.toFixed(2) < 0 || balance.toFixed(2) <= 0 ? /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 37\n      }\n    }, \"Please check your entry\") : /*#__PURE__*/React.createElement(Button, {\n      className: \"button product-button active\",\n      onClick: this.onSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 37\n      }\n    }, saved ? \"SAVE CHANGES\" : \"ADD TO ORDER\")), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button product-button active\",\n      onClick: () => this.setState({\n        clearModal: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 33\n      }\n    }, \"CLEAR\"))), !activeState && /*#__PURE__*/React.createElement(Button, {\n      className: \"button product-button active\",\n      onClick: this.onCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 25\n      }\n    }, \"CANCEL\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  customer: state.customer\n});\n\nexport default connect(mapStateToProps, {\n  addProduct,\n  removeProduct,\n  changeProduct,\n  clearCustomer,\n  changeCustomer\n})(ProductScreen);","map":{"version":3,"sources":["/home/freedom/Music/tcp2.0-frontend/src/screens/Sales/Product.js"],"names":["React","Component","connect","Button","Form","Row","Col","Modal","Header","Header2","Footer","RadioGroup","addProduct","removeProduct","changeProduct","clearCustomer","changeCustomer","INITIAL_PRODUCT","productOptions","IconHome","taxCalculationFlag","taxCalculationPrice","ProductScreen","state","backModal","clearModal","clearFor","componentDidMount","id","parseInt","props","match","params","products","contact","customer","main_app","product_type","price","tax","taxIfPriceChange","changeState","length","history","replace","data","changeCustomerState","handleBackModalClose","setState","handleBackModalYes","handleClearModalClose","handleClearModalYes","type","push","onCancel","onSave","saved","changeProductType","validateInput","origin","target","substring","renderListPrice","position","e","taxPrice","value","taxValue","renderAddDiscount","add_discount","renderCouponGroup","coupon","render","isNaN","total_discount","cash_credit","check","finance_period","makemodel","net_price","parseFloat","balance","down_payment","unpaid_balance","monthly_minimum","activeState","options","filter","option","val","toFixed","marginTop","marginBottom","textAlign","paddingRight","Array","map","index","marginLeft","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Row, Col, Modal } from 'react-bootstrap';\n\nimport Header from '../../components/Sales/Header';\nimport Header2 from '../../components/Sales/Header2';\nimport Footer from '../../components/Sales/Footer';\n\nimport { RadioGroup } from '../../components/Checkbox';\n\nimport { addProduct, removeProduct, changeProduct, clearCustomer, changeCustomer } from '../../redux/actions/customer';\nimport { INITIAL_PRODUCT } from '../../redux/reducers/customer';\n\nimport { productOptions } from '../../assets/options';\nimport { IconHome } from '../../assets/images';\nimport { taxCalculationFlag, taxCalculationPrice } from './setTaxCaluculation';\nclass ProductScreen extends Component {\n\n    state = {\n        backModal: false,\n        clearModal: false,\n        clearFor: 'clear'   // clear, cancel\n    }\n\n    componentDidMount = () => {\n        const id = parseInt(this.props.match.params.id);\n        const { products, contact } = this.props.customer;\n        const { main_app } = contact;\n        const { product_type, price, tax } = products[id] || products;\n     \n\n        let taxIfPriceChange = 0;\n        taxIfPriceChange = taxCalculationPrice(product_type, main_app.state, price, tax);\n        this.changeState({\n            tax: taxIfPriceChange, \n        })\n\n\n        if (id >= products.length) {\n            this.props.history.replace('/sales');\n        }\n    }\n\n    changeState = (data) => {\n        const id = parseInt(this.props.match.params.id);\n        this.props.changeProduct(id, data);\n    }\n\n    changeCustomerState = (data) => {\n        this.props.changeCustomer(data);\n    }\n    \n    handleBackModalClose = () => {\n        this.setState({ backModal: false });\n    }\n\n    handleBackModalYes = () => {\n        this.props.clearCustomer();\n        this.props.history.replace('/sales');\n    }\n\n    handleClearModalClose = () => {\n        this.setState({ \n            clearModal: false,\n            clearFor: 'clear'\n        });\n    }\n\n    handleClearModalYes = () => {\n        const { clearFor } = this.state;\n        if(clearFor === 'cancel') {\n            const { customer, history } = this.props;\n            const id = parseInt(this.props.match.params.id);\n            const { contact } = customer;\n            this.props.removeProduct(id);\n            if(contact && contact.type && contact.type === 'preorder') {\n                history.push('/preapprovals');\n            } else {\n                this.setState({ \n                    clearModal: false\n                })\n                if (id === 0) {\n                    history.replace('/contact');\n                } else {\n                    history.replace('/summary');\n                }\n            }\n        } else {\n            this.changeState({\n                ...INITIAL_PRODUCT\n            });\n        }\n       \n        this.setState({ \n            clearModal: false,\n            clearFor: 'clear'\n        });\n    }\n\n    onCancel = () => {\n        this.setState({\n            clearFor: 'cancel',\n            clearModal: true\n        });\n    }\n\n    onSave = () => {\n        this.changeState({ saved: true });\n        this.props.history.replace('/summary');\n    }\n\n    changeProductType = (type, price) => {\n        const id = parseInt(this.props.match.params.id);\n        const { contact, products } = this.props.customer;    \n        const { main_app } = contact;\n\n        const { tax } = products[id] || products;\n\n        let taxIfPriceChange = 0;\n        taxIfPriceChange = taxCalculationPrice(type, main_app.state, price, tax);\n        this.changeState({\n            product_type: type,\n            tax: taxIfPriceChange\n        });\n    }\n\n    validateInput = (origin, target) => {\n        if (target === \"\") {\n            return \"0\";\n        }\n        if (origin === 0) {\n            return target.replace(\"0\", \"\")\n        }\n        if (target.length >= 2 && target[0] === \"0\" && target[1] !== \".\") {\n            return target.substring(1);\n        }\n        return target;\n    }\n\n    renderListPrice = () => {\n        const id = parseInt(this.props.match.params.id);\n        const { price, tax, product_type } = this.props.customer.products[id];\n        return (\n            <Form.Group>\n                <Form.Label>List Price</Form.Label>\n                <div style={{ position: 'relative' }}>\n                    <span className=\"input_symbol\">$</span>\n                    <Form.Control\n                        value={price}\n                        onChange={e => {\n                            this.taxPrice(this.validateInput(price, e.target.value), tax, product_type);\n                            this.changeState({price: this.validateInput(price, e.target.value)})\n                        }}\n                        type=\"number\"\n                    />\n                </div>\n            </Form.Group>\n        )\n    }\n\n    taxPrice = (price, taxValue, product_type) => {\n        let taxIfPriceChange = 0;\n        const { contact } = this.props.customer;\n        const { main_app } = contact;\n        taxIfPriceChange = taxCalculationPrice(product_type, main_app.state, price, taxValue);\n        this.changeState({\n            tax: taxIfPriceChange\n        });\n    }\n    renderAddDiscount = () => {\n        const id = parseInt(this.props.match.params.id);\n        const { add_discount } = this.props.customer.products[id];\n        return (\n            <Form.Group>\n                <Form.Label>Add. discount</Form.Label>\n                <div style={{ position: 'relative' }}>\n                    <span className=\"input_symbol\">$</span>\n                    <Form.Control\n                        value={add_discount}\n                        onChange={e => this.changeState({add_discount: this.validateInput(add_discount, e.target.value)})}\n                        type=\"number\"\n                    />\n                </div>\n            </Form.Group>\n        )\n    }\n\n    renderCouponGroup = () => {\n        const id = parseInt(this.props.match.params.id);\n        const coupon = this.props.customer.products[id].coupon;\n        return (\n            <Form.Group>\n                <Form.Label>Coupon</Form.Label>\n                <Form.Control\n                    as=\"select\"\n                    value={coupon}\n                    onChange={e => this.changeState({coupon: e.target.value})}\n                >\n                    <option value={0}>$0</option>\n                    <option value={25}>$25</option>\n                    <option value={50}>$50</option>\n                    <option value={75}>$75</option>\n                    <option value={100}>$100</option>\n                    <option value={125}>$125</option>\n                    <option value={150}>$150</option>\n                    <option value={175}>$175</option>\n                    <option value={200}>$200</option>\n                </Form.Control>\n            </Form.Group>\n        )\n    }\n\n    render() {\n        const { clearFor } = this.state;\n        const id = parseInt(this.props.match.params.id);\n        const { products, contact } = this.props.customer;        \n        const { main_app } = contact;\n        if (isNaN(id) || id >= products.length) {\n            return (\n                <div>\n\n                </div>\n            )\n        }\n        const {\n            product_type,\n            price,\n            total_discount,\n            coupon,\n            add_discount,\n            tax,\n            cash_credit,\n            check,\n            finance_period,\n            makemodel,\n            saved\n        } = products[id];\n\n        const net_price = parseFloat(price) * (100 - parseFloat(total_discount)) / 100 - parseFloat(add_discount) - parseInt(coupon)\n\n        const balance = net_price + parseFloat(tax);\n        const down_payment = parseFloat(cash_credit) + parseFloat(check);\n        const unpaid_balance = balance - down_payment;\n        let monthly_minimum = 0;\n        \n        if (product_type === 'FOOD') {\n            monthly_minimum = finance_period === 0 ? 0 : unpaid_balance / finance_period;    \n        } else if (product_type === 'FSP' || product_type === 'APP') {\n            monthly_minimum = unpaid_balance * (finance_period === 36 ? 0.035 : finance_period === 48 ? 0.03 : 0);\n        }\n\n        const activeState =\n            product_type !== ''&&\n            !isNaN(parseFloat(price)) &&\n            parseFloat(price) !== 0 &&\n            !isNaN(parseFloat(tax)) &&\n            !isNaN(parseFloat(total_discount)) &&\n            !isNaN(parseFloat(add_discount)) &&\n            !isNaN(parseInt(coupon)) &&\n            !isNaN(parseFloat(cash_credit)) &&\n            !isNaN(parseFloat(check)) &&\n            !(unpaid_balance > 0 && finance_period === 0)\n\n        let options = productOptions;\n        if (products.length >= 1) {\n            if (id !== 0) {\n                options = options.filter(option => option.value !== products[0].product_type);\n            }\n            if (products.length === 2 && id !== 1) {\n                options = options.filter(option => option.value !== products[1].product_type);\n            }\n        }\n        return (\n            <div className=\"sales\">\n                <Modal show={this.state.backModal} onHide={this.handleBackModalClose}>\n                    <Modal.Header closeButton></Modal.Header>\n                    <Modal.Body>\n                        <p>Returning to the Start Screen will cause you to lose all progress on this customer.</p>\n                        <p>Do you wish to continue?</p>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleBackModalClose}>\n                            No\n                        </Button>\n                        <Button variant=\"primary\" onClick={this.handleBackModalYes}>\n                            Yes\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n                <Modal show={this.state.clearModal} onHide={this.handleClearModalClose}>\n                    <Modal.Header closeButton></Modal.Header>\n                    <Modal.Body>\n                    <p>{ clearFor === 'cancel' ? 'Cancelling' : 'Clearing'} this form will cause you to lose all progress on this Sales Slip.</p>\n                        <p>Are you sure you want to continue?</p>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClearModalClose}>\n                            No\n                        </Button>\n                        <Button variant=\"primary\" onClick={this.handleClearModalYes}>\n                            Yes\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n\n                <Header history={this.props.history}>\n                    <img src={IconHome} alt=\"home\" className=\"icon-home\" onClick={() => this.setState({ backModal: true })} />\n                </Header>\n                <div className=\"main product-page\">\n                    <Header2\n                        id={id}\n                        history={this.props.history}\n                    />\n                    <div className=\"container\">\n\n                        <Form.Group>\n                            <RadioGroup options={options} value={product_type} onChangeValue={val => this.changeProductType(val, price)} />\n                        </Form.Group>\n\n                        { product_type !== '' && (\n                            <div>\n                                <div className=\"good-or-services\">\n                                    <textarea\n                                        value={makemodel}\n                                        onChange={e => {\n                                            const value = e.target.value;\n                                            if ((value.match(/\\n/g) || []).length < 6) {\n                                                this.changeState({ makemodel: value });\n                                            }\n                                        }}\n                                    />\n                                </div>\n                                { product_type === 'FOOD' ? (\n                                    <>\n                                        <Row>\n                                            <Col xs={4} className=\"pr-26\">\n                                                { this.renderListPrice() }\n                                            </Col>\n                                        </Row>\n\n                                        <Row>\n                                            <Col xs={4} className=\"pr-26\">\n                                                <Form.Group>\n                                                    <Form.Label>Total Discount</Form.Label>\n                                                    <Form.Control\n                                                        as=\"select\"\n                                                        value={total_discount}\n                                                        onChange={e => this.changeState({total_discount: e.target.value})}\n                                                    >\n                                                        <option value={0}>0%</option>\n                                                        <option value={5}>5%</option>\n                                                        <option value={10}>10%</option>\n                                                        <option value={15}>15%</option>\n                                                        <option value={20}>20%</option>\n                                                        <option value={25}>25%</option>\n                                                        <option value={30}>30%</option>\n                                                        <option value={35}>35%</option>\n                                                        <option value={40}>40%</option>\n                                                        <option value={45}>45%</option>\n                                                    </Form.Control>\n                                                </Form.Group>\n                                            </Col>\n                                            <Col xs={4} className=\"pr-26\">\n                                                { this.renderCouponGroup() }\n                                            </Col>\n                                            <Col xs={4}>\n                                                { this.renderAddDiscount() }\n                                            </Col>\n                                        </Row>\n                                    </>\n                                ) : (\n                                    <Row>\n                                        <Col xs={4} className=\"pr-26\">\n                                            { this.renderListPrice() }\n                                        </Col>\n                                        <Col xs={4} className=\"pr-26\">\n                                            { this.renderAddDiscount() }\n                                        </Col>\n                                        <Col xs={4}>\n                                            { this.renderCouponGroup() }\n                                        </Col>\n                                    </Row>\n                                )}\n\n                                <Row>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Net Price</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={net_price.toFixed(2)}\n                                                    disabled\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Tax</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={tax}\n                                                    onChange={e => {\n                                                        this.changeState({ tax: parseFloat(this.validateInput(tax, e.target.value)).toFixed(2) })}\n                                                    }\n                                                    type=\"number\"\n                                                    className={  taxCalculationFlag(product_type, main_app.state) ? 'not-allowed' : ''}\n                                                    disabled={ taxCalculationFlag(product_type, main_app.state) }\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4}>\n                                        <Form.Group>\n                                            <Form.Label>Balance</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    disabled\n                                                    value={balance.toFixed(2)}\n                                                    className=\"fixed_input\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <div className=\"deposit-amounts\">DEPOSIT AMOUNTS</div>\n                                <Row>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Cash / Credit</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={cash_credit}\n                                                    onChange={e => this.changeState({cash_credit: this.validateInput(cash_credit, e.target.value) })}\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Check</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={check}\n                                                    onChange={e => this.changeState({check: this.validateInput(check, e.target.value) })}\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4}>\n                                        <Form.Group>\n                                            <Form.Label>Down Payment</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    disabled\n                                                    value={down_payment}\n                                                    className=\"fixed_input\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <Row style={{ marginTop: 15, marginBottom: 20 }}>\n                                    <Col xs={4}></Col>\n                                    <Col xs={4} style={{ textAlign: 'right', paddingRight: 15, marginTop: 8 }}>\n                                        <Form.Label>Unpaid Balance</Form.Label>             \n                                    </Col>\n                                    <Col xs={4}>\n                                        <span className=\"input_symbol\">$</span>\n                                        <Form.Control\n                                            disabled\n                                            value={unpaid_balance.toFixed(2)}\n                                            className=\"fixed_input\"\n                                        />\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs={6} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Finance Period</Form.Label>\n                                            <Form.Control\n                                                as=\"select\"\n                                                value={finance_period}\n                                                onChange={e => this.changeState({finance_period: parseInt(e.target.value)})}\n                                            >\n                                                { (product_type === 'FSP' || product_type === 'APP') && (\n                                                    <>\n                                                        <option value={0}>0 months</option>\n                                                        <option value={36}>36 months</option>\n                                                        <option value={48}>48 months</option>\n                                                    </>\n                                                )}\n                                                { product_type === 'FOOD' && (\n                                                    [...Array(13)].map((val, index) => (\n                                                        <option key={`month_${index}`} value={index}>{index} months</option>\n                                                    ))\n                                                )}\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={6}>\n                                        <Form.Group>\n                                            <Form.Label>Monthly Minimum</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    disabled\n                                                    value={monthly_minimum.toFixed(2)}\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                            </div>\n                        )}\n                    </div>\n\n                    { product_type !== '' && (\n                        <div className=\"total\">\n                            <span>Price: {price}</span>\n                            <span style={{ marginLeft: 25 }}>Unpaid : {unpaid_balance.toFixed(2)}</span>\n                            <span style={{ marginLeft: 25 }}>Monthly: {monthly_minimum.toFixed(2)}</span>\n                        </div>\n                    ) }\n                </div>\n                <Footer>\n                    { activeState && (\n                        <Row>                        \n                            <Col xs={6} style={{ textAlign: 'right' }}>\n                                {\n                                    (unpaid_balance.toFixed(2) < 0 || balance.toFixed(2) <= 0) ?\n                                    <Button>Please check your entry</Button> :\n                                    <Button className=\"button product-button active\" onClick={this.onSave}>\n                                        { saved ? \"SAVE CHANGES\" : \"ADD TO ORDER\" }\n                                    </Button>\n                                }\n                            </Col>\n                            <Col xs={6} style={{ textAlign: 'center' }}>\n                                <Button className=\"button product-button active\" onClick={() => this.setState({ clearModal: true })}>\n                                    CLEAR\n                                </Button>\n                            </Col>\n                        </Row>\n                    )}\n                    { !activeState && (\n                        <Button className=\"button product-button active\" onClick={this.onCancel}>\n                            CANCEL\n                        </Button>\n                    )}\n                </Footer>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    customer: state.customer\n});\n\nexport default connect(\n    mapStateToProps,\n    {\n        addProduct,\n        removeProduct,\n        changeProduct,\n        clearCustomer,\n        changeCustomer\n    }\n)(ProductScreen);"]},"metadata":{},"sourceType":"module"}