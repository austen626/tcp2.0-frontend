{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp2.0-frontend/src/screens/Dealer/ApplyPreFilledPage/applyPreFilledView.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from 'components/Dealer/Header';\nimport { message as ConstMessage } from 'shared/constant';\nimport { setApplianceFlag } from 'utils/helper';\nimport { IconArrowLeft, IconCustomerEdit, UnderConstruction } from 'assets/images';\nimport CustomerLoanHistoryList from '../CustomerLoanHistoryList';\nimport Loader from 'shared/Loader';\n\nclass ApplyPreFilledView extends Component {\n  constructor(...args) {\n    super(...args);\n    this.customerDetailsRef = React.createRef();\n    this.state = {\n      modalShow: false,\n      commentBoxShow: false,\n      currentWidth: 500,\n      openLoadDetails: false\n    };\n\n    this.handleGenerateOrderClick = item => {\n      this.props.addProduct();\n      this.props.history.replace('/product/0');\n    };\n\n    this.requestForSales = type => {\n      const {\n        sendAll,\n        customer\n      } = this.props;\n      let productType = [];\n      const {\n        contact\n      } = customer;\n      const {\n        main_app\n      } = contact;\n      const typeStructure = {\n        'food': 'food',\n        'food-app': 'food, appliance',\n        'app': 'appliance'\n      };\n      productType.push(typeStructure[type]);\n      const body = {\n        \"contact\": {\n          \"same_address\": false,\n          \"co_enabled\": false,\n          \"co_complete\": false,\n          \"co_separate\": false,\n          \"product_type\": productType,\n          \"main_app\": {\n            \"cif_number\": main_app.cif_number,\n            \"nortridge_cif_number\": main_app.nortridge_cif_number || null,\n            \"name\": main_app.name,\n            \"email\": main_app.email,\n            \"cell_phone\": main_app.cell_phone,\n            \"street\": main_app.street,\n            \"city\": main_app.city,\n            \"state\": main_app.state,\n            \"zip\": main_app.zip,\n            \"home_phone\": \"\"\n          },\n          \"co_app\": {\n            \"name\": \"\",\n            \"email\": \"\",\n            \"cell_phone\": \"\",\n            \"home_phone\": \"\",\n            \"street\": \"\",\n            \"city\": \"\",\n            \"state\": \"\",\n            \"zip\": \"\"\n          }\n        }\n      };\n      sendAll(body, undefined, \"pre-order\", this.props.history);\n    };\n\n    this.handleRedirect = () => {\n      const id = this.props.match.params.id;\n      const {\n        history\n      } = this.props;\n      history.push('/prefilled/' + id);\n    };\n\n    this.handleArrowBack = () => {\n      const {\n        history\n      } = this.props;\n      history.push('/');\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      setReorderCustomerById,\n      getCustomerHistory\n    } = this.props;\n    const id = this.props.match.params.id;\n    setReorderCustomerById(id);\n    getCustomerHistory({\n      id: id\n    });\n\n    if (this.customerDetailsRef !== undefined && this.customerDetailsRef.current.offsetWidth !== undefined) {\n      this.setState({\n        currentWidth: this.customerDetailsRef.current.offsetWidth\n      });\n    }\n  }\n\n  render() {\n    const {\n      getCustomerPaymentHistory,\n      customerData,\n      customer\n    } = this.props;\n    const {\n      contact,\n      customerError,\n      isSettingCustomerDetails\n    } = customer;\n    const {\n      main_app\n    } = contact;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.customerDetailsRef,\n      className: \"dealer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HeaderLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: IconArrowLeft,\n      onClick: this.handleArrowBack,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(HeaderCenter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, customerError === 'Not Found' ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"This page is under construction\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, main_app.name || '-')), /*#__PURE__*/React.createElement(HeaderRight, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, customerError !== 'Not Found' && /*#__PURE__*/React.createElement(\"img\", {\n      src: IconCustomerEdit,\n      alt: \"\",\n      onClick: this.handleRedirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }))), isSettingCustomerDetails && /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, customerError !== 'Not Found' && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, this.state.currentWidth < 571 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"address-and-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 45\n      }\n    }, main_app.street || '-'), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 45\n      }\n    }, main_app.zip || '-', \" \", main_app.city || ''), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 45\n      }\n    }, main_app.state || '-')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-preview-green btn-custom button-preapproval\",\n      onClick: () => this.requestForSales('food'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 49\n      }\n    }, \"REQUEST PREAPPROVAL\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-generate-preview btn-custom button-preapproval\",\n      onClick: this.handleGenerateOrderClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 49\n      }\n    }, \"GENERATE ORDER\")))), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 41\n      }\n    }, \"Contact\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contact-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 49\n      }\n    }, \"Contact Type: \"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 49\n      }\n    }, main_app.cell_phone)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 49\n      }\n    }, \"Email: \"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 49\n      }\n    }, main_app.email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 49\n      }\n    }, \"Date Of Birth: \"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 49\n      }\n    }, main_app.dob)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 49\n      }\n    }, \"TCP Customer Number: \"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 49\n      }\n    }, main_app.nortridge_cif_number))))) : /*#__PURE__*/React.createElement(Row, {\n      className: \"web-info-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"6\",\n      className: \"text-left right-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"web-address-and-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 49\n      }\n    }, main_app.street || '-'), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 49\n      }\n    }, main_app.zip, \" \", main_app.city || '-'), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 49\n      }\n    }, main_app.state || '-'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-custom button-preapproval\",\n      onClick: () => this.requestForSales('food'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 49\n      }\n    }, \"REQUEST PREAPPROVAL\"))))), /*#__PURE__*/React.createElement(Col, {\n      xs: \"6\",\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"web-address-and-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"address ml-50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 49\n      }\n    }, \"Contact: \", main_app.cell_phone), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 49\n      }\n    }, \"Email: \", main_app.email), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 49\n      }\n    }, \"Date Of Birth: \", main_app.dob), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 49\n      }\n    }, \"TCP Customer Number: \", `${(main_app === null || main_app === void 0 ? void 0 : main_app.nortridge_cif_number) || ''}`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-generate-preview btn-custom button-preapproval\",\n      onClick: this.handleGenerateOrderClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 53\n      }\n    }, \"GENERATE ORDER\")))))))), customerError !== 'Not Found' ? /*#__PURE__*/React.createElement(CustomerLoanHistoryList, {\n      customerData: customerData,\n      getCustomerPaymentHistory: getCustomerPaymentHistory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center m-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-fluid\",\n      src: UnderConstruction,\n      alt: \"under construction\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }))));\n  }\n\n}\n\nexport default ApplyPreFilledView;","map":{"version":3,"sources":["/home/freedom/Music/tcp2.0-frontend/src/screens/Dealer/ApplyPreFilledPage/applyPreFilledView.js"],"names":["React","Component","connect","moment","Row","Col","Button","Modal","Header","HeaderLeft","HeaderCenter","HeaderRight","message","ConstMessage","setApplianceFlag","IconArrowLeft","IconCustomerEdit","UnderConstruction","CustomerLoanHistoryList","Loader","ApplyPreFilledView","customerDetailsRef","createRef","state","modalShow","commentBoxShow","currentWidth","openLoadDetails","handleGenerateOrderClick","item","props","addProduct","history","replace","requestForSales","type","sendAll","customer","productType","contact","main_app","typeStructure","push","body","cif_number","nortridge_cif_number","name","email","cell_phone","street","city","zip","undefined","handleRedirect","id","match","params","handleArrowBack","componentDidMount","setReorderCustomerById","getCustomerHistory","current","offsetWidth","setState","render","getCustomerPaymentHistory","customerData","customerError","isSettingCustomerDetails","dob"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from 'components/Dealer/Header';\nimport { message as ConstMessage } from 'shared/constant';\nimport { setApplianceFlag } from 'utils/helper';\nimport { IconArrowLeft, IconCustomerEdit, UnderConstruction } from 'assets/images';\nimport CustomerLoanHistoryList from '../CustomerLoanHistoryList';\nimport Loader from 'shared/Loader';\n\nclass ApplyPreFilledView extends Component {\n\n    customerDetailsRef = React.createRef();\n\n    state = {\n        modalShow: false,\n        commentBoxShow: false,\n        currentWidth: 500,\n        openLoadDetails: false\n    }\n\n    async componentDidMount() {        \n        const { setReorderCustomerById, getCustomerHistory } = this.props\n        const id = this.props.match.params.id;\n        setReorderCustomerById(id);\n        getCustomerHistory({ id: id })\n        if (this.customerDetailsRef !== undefined && this.customerDetailsRef.current.offsetWidth !== undefined) {\n            this.setState({ currentWidth: this.customerDetailsRef.current.offsetWidth })\n        }\n    }\n\n    handleGenerateOrderClick = (item) => {\n        this.props.addProduct();\n        this.props.history.replace('/product/0');\n    }\n\n    requestForSales = (type) => {\n        const { sendAll, customer } = this.props;\n        let productType = [];\n        const { contact } = customer;\n        const { main_app } = contact;\n        const typeStructure = {\n            'food': 'food',\n            'food-app': 'food, appliance',\n            'app': 'appliance'\n        }\n        productType.push(typeStructure[type])\n        const body = {\n            \"contact\": {\n               \"same_address\": false,\n                \"co_enabled\": false,\n                \"co_complete\": false,\n                \"co_separate\": false,\n                \"product_type\": productType,\n                \"main_app\": {\n                    \"cif_number\": main_app.cif_number,\n                    \"nortridge_cif_number\": main_app.nortridge_cif_number || null,\n                    \"name\": main_app.name,\n                    \"email\": main_app.email,\n                    \"cell_phone\": main_app.cell_phone,\n                    \"street\": main_app.street,\n                    \"city\": main_app.city,\n                    \"state\": main_app.state,\n                    \"zip\": main_app.zip,\n                    \"home_phone\": \"\"\n                },\n                \"co_app\": {\n                    \"name\": \"\",\n                    \"email\": \"\",\n                    \"cell_phone\": \"\",\n                    \"home_phone\": \"\",\n                    \"street\": \"\",\n                    \"city\": \"\",\n                    \"state\": \"\",\n                    \"zip\": \"\",\n                }\n            },\n        }\n        sendAll(body, undefined, \"pre-order\", this.props.history);\n    }\n\n    handleRedirect = () => {\n        const id = this.props.match.params.id;\n        const { history } = this.props;\n        history.push('/prefilled/'+id);\n    }\n\n    handleArrowBack = () => {\n        const { history } = this.props;\n        history.push('/');\n    }\n\n    render() {\n        const {\n            getCustomerPaymentHistory,\n            customerData,\n            customer\n        } = this.props;\n        const { contact, customerError, isSettingCustomerDetails } = customer;\n        const { main_app } = contact;\n        return (\n            <div ref={this.customerDetailsRef} className=\"dealer\">\n                <Header>\n                    <HeaderLeft>\n                        <img src={IconArrowLeft} onClick={this.handleArrowBack} alt=\"\" />\n                    </HeaderLeft>\n                    <HeaderCenter>\n                        {\n                            customerError === 'Not Found' ?\n                            <span className=\"name\">This page is under construction</span> \n                            :\n                            <span className=\"name\">{main_app.name || '-'}</span> \n                        }\n                    </HeaderCenter>\n                    <HeaderRight>\n                        {\n                            customerError !== 'Not Found' &&\n                            <img src={ IconCustomerEdit } alt=\"\" onClick={this.handleRedirect}/>\n                        }\n                    </HeaderRight>\n                </Header>               \n                {\n                    isSettingCustomerDetails && <Loader />\n                }\n                <>\n                {\n                    customerError !== 'Not Found' && \n                    <div className=\"main\">\n                        <div className=\"customer-details\">\n                            { this.state.currentWidth < 571 ? (\n                                <>\n                                    <div className=\"address-and-buttons\">\n                                        <div className=\"address\">\n                                            <div>{main_app.street || '-'}</div>\n                                            <div>{main_app.zip || '-'} {main_app.city || ''}</div>\n                                            <div>{main_app.state || '-'}</div>\n                                        </div>                                      \n                                        <div className=\"buttons mt-3\">\n                                            <>\n                                                <div className=\"btn-preview-green btn-custom button-preapproval\" onClick={() => this.requestForSales('food')}>REQUEST PREAPPROVAL</div>\n                                                {/* <div className=\"btn-preview-green btn-custom button-preapproval\" onClick={() => this.requestForSales('food')}>REQUEST FOR FOOD</div>\n                                                <div className=\"btn-preview-green btn-custom button-preapproval\" onClick={() => this.requestForSales('app')}>REQUEST FOR APPLIANCE</div> */}\n                                                <div className=\"btn-generate-preview btn-custom button-preapproval\" onClick={ this.handleGenerateOrderClick }>GENERATE ORDER</div>\n                                            </>\n                                        </div> \n                                    </div>\n                                    <>\n                                        <div className=\"tab1\">Contact</div>\n                                        <div className=\"contact-info\">\n                                            <div className=\"details\">\n                                                <strong>Contact Type: </strong>\n                                                <span>{main_app.cell_phone}</span>\n                                            </div>\n                                            <div className=\"details\">\n                                                <strong>Email: </strong>\n                                                <span>{main_app.email}</span>\n                                            </div>\n                                            <div className=\"details\">\n                                                <strong>Date Of Birth: </strong>\n                                                <span>{main_app.dob}</span>\n                                            </div>\n                                            <div className=\"details\">\n                                                <strong>TCP Customer Number: </strong>\n                                                <span>{ main_app.nortridge_cif_number}</span>\n                                            </div>\n                                        </div>\n                                    </>\n                                </>)\n                                :\n                                <Row className=\"web-info-box\">\n                                    <Col xs=\"6\" className=\"text-left right-border\">\n                                        <div className=\"web-address-and-buttons\">\n                                            <div className=\"address\">\n                                                <div>{main_app.street || '-'}</div>\n                                                <div>{main_app.zip} {main_app.city || '-'}</div>\n                                                <div>{main_app.state || '-'}</div>\n                                                <div className=\"buttons\">\n                                                <div className=\"btn-custom button-preapproval\" onClick={() => this.requestForSales('food')}>REQUEST PREAPPROVAL</div>\n                                                    {/* <div className=\"btn-custom button-preapproval\" onClick={() => this.requestForSales('food')}>REQUEST FOR FOOD</div>\n                                                    <div className=\"btn-custom button-preapproval\" onClick={() => this.requestForSales('app')}>REQUEST FOR APPLIANCE</div> */}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </Col>\n                                    <Col xs=\"6\" className=\"text-left\">\n                                        <div className=\"web-address-and-buttons\">\n                                            <div className=\"address ml-50\">\n                                                <div>Contact: {main_app.cell_phone}</div>\n                                                <div>Email: {main_app.email}</div>\n                                                <div>Date Of Birth: {main_app.dob}</div>\n                                                <div>TCP Customer Number: {`${main_app?.nortridge_cif_number || ''}`}</div>\n                                                <div className=\"buttons\">                                            \n                                                    <div className=\"btn-generate-preview btn-custom button-preapproval\" onClick={this.handleGenerateOrderClick}>GENERATE ORDER</div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </Col>\n                                </Row>\n                            }\n                        </div>\n                    </div>\n    }\n                    {\n                        customerError !== 'Not Found' ?\n                        <CustomerLoanHistoryList \n                            customerData = { customerData }\n                            getCustomerPaymentHistory = { getCustomerPaymentHistory }\n                        /> :\n                        <div className=\"d-flex justify-content-center m-5\">\n                            <img className=\"img-fluid\" src={ UnderConstruction } alt=\"under construction\" />\n                        </div>\n                    }            \n                </>\n            </div>\n        )\n    }\n}\n\n\nexport default  ApplyPreFilledView;"]},"metadata":{},"sourceType":"module"}