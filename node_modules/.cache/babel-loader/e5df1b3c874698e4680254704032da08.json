{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp-frontend/src/screens/Sales/Product.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Row, Col, Modal } from 'react-bootstrap';\nimport Header from '../../components/Sales/Header';\nimport Header2 from '../../components/Sales/Header2';\nimport Footer from '../../components/Sales/Footer';\nimport Checkbox, { RadioGroup } from '../../components/Checkbox';\nimport { addProduct, removeProduct, changeProduct, clearCustomer } from '../../redux/actions/customer';\nimport { INITIAL_PRODUCT } from '../../redux/reducers/customer';\nimport { productOptions } from '../../assets/options';\nimport { IconHome } from '../../assets/images';\n\nclass ProductScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      backModal: false,\n      clearModal: false\n    };\n\n    this.componentDidMount = () => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        contact,\n        products\n      } = this.props.customer; // const { name } = contact;\n      // if (name === '' || isNaN(id)) {\n      //     this.props.history.replace('/sales');\n      // }\n\n      if (id >= products.length) {\n        this.props.history.replace('/sales');\n      }\n\n      console.log(customer);\n    };\n\n    this.changeState = data => {\n      const id = parseInt(this.props.match.params.id);\n      this.props.changeProduct(id, data);\n    };\n\n    this.handleBackModalClose = () => {\n      this.setState({\n        backModal: false\n      });\n    };\n\n    this.handleBackModalYes = () => {\n      this.props.clearCustomer();\n      this.props.history.replace('/sales');\n    };\n\n    this.handleClearModalClose = () => {\n      this.setState({\n        clearModal: false\n      });\n    };\n\n    this.handleClearModalYes = () => {\n      this.changeState({ ...INITIAL_PRODUCT\n      });\n      this.setState({\n        clearModal: false\n      });\n    };\n\n    this.onCancel = () => {\n      const id = parseInt(this.props.match.params.id);\n      this.props.removeProduct(id);\n\n      if (id === 0) {\n        this.props.history.replace('/contact');\n      } else {\n        this.props.history.replace('/summary');\n      }\n    };\n\n    this.onSave = () => {\n      this.changeState({\n        saved: true\n      });\n      this.props.history.replace('/summary');\n    };\n\n    this.changeProductType = type => {\n      // let price = 0, tax = 0;\n      // if (type === 'FOOD') {\n      //     price = 1298;\n      //     tax = 0;\n      // } else if (type === 'APP') {\n      //     price = 2899;\n      //     tax = 159.45;\n      // } else if (type === 'FSP') {\n      //     price = 3799;\n      //     tax = 208.95;\n      // }\n      // this.changeState({\n      //     ...INITIAL_PRODUCT,\n      //     product_type: type,\n      //     price: price,\n      //     tax: tax\n      // });\n      this.changeState({\n        product_type: type\n      });\n    };\n\n    this.validateInput = (origin, target) => {\n      if (target === \"\") {\n        return \"0\";\n      }\n\n      if (origin === 0) {\n        return target.replace(\"0\", \"\");\n      }\n\n      if (target.length >= 2 && target[0] === \"0\" && target[1] !== \".\") {\n        return target.substring(1);\n      }\n\n      return target;\n    };\n\n    this.renderListPrice = () => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        price\n      } = this.props.customer.products[id];\n      return /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, \"List Price\"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input_symbol\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n        value: price,\n        onChange: e => this.changeState({\n          price: this.validateInput(price, e.target.value)\n        }),\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }\n      })));\n    };\n\n    this.renderAddDiscount = () => {\n      const id = parseInt(this.props.match.params.id);\n      const {\n        add_discount\n      } = this.props.customer.products[id];\n      return /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, \"Add. discount\"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input_symbol\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n        value: add_discount,\n        onChange: e => this.changeState({\n          add_discount: this.validateInput(add_discount, e.target.value)\n        }),\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      })));\n    };\n\n    this.renderCouponGroup = () => {\n      const id = parseInt(this.props.match.params.id);\n      const coupon = this.props.customer.products[id].coupon;\n      return /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, \"Coupon\"), /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        value: coupon,\n        onChange: e => this.changeState({\n          coupon: e.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, \"$0\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 25,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }, \"$25\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 50,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, \"$50\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 75,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, \"$75\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }\n      }, \"$100\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 125,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }, \"$125\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 150,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, \"$150\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 175,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, \"$175\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 200,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }\n      }, \"$200\")));\n    };\n  }\n\n  render() {\n    const id = parseInt(this.props.match.params.id);\n    const {\n      products\n    } = this.props.customer;\n\n    if (isNaN(id) || id >= products.length) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }\n      });\n    }\n\n    const {\n      product_type,\n      price,\n      total_discount,\n      coupon,\n      add_discount,\n      tax,\n      cash_credit,\n      check,\n      finance_period,\n      makemodel,\n      saved\n    } = products[id];\n    const net_price = parseFloat(price) * (100 - parseFloat(total_discount)) / 100 - parseFloat(add_discount) - parseInt(coupon);\n    const balance = net_price + parseFloat(tax);\n    const down_payment = parseFloat(cash_credit) + parseFloat(check);\n    const unpaid_balance = balance - down_payment;\n    let monthly_minimum = 0;\n\n    if (product_type === 'FOOD') {\n      monthly_minimum = finance_period === 0 ? 0 : unpaid_balance / finance_period;\n    } else if (product_type === 'FSP' || product_type === 'APP') {\n      monthly_minimum = unpaid_balance * (finance_period === 36 ? 0.035 : finance_period === 48 ? 0.03 : 0);\n    }\n\n    const activeState = product_type !== '' && !isNaN(parseFloat(price)) && parseFloat(price) !== 0 && !isNaN(parseFloat(tax)) && !isNaN(parseFloat(total_discount)) && !isNaN(parseFloat(add_discount)) && !isNaN(parseInt(coupon)) && !isNaN(parseFloat(cash_credit)) && !isNaN(parseFloat(check)) && !(unpaid_balance > 0 && finance_period === 0);\n    let options = productOptions;\n\n    if (products.length >= 1) {\n      if (id !== 0) {\n        options = options.filter(option => option.value !== products[0].product_type);\n      }\n\n      if (products.length === 2 && id !== 1) {\n        options = options.filter(option => option.value !== products[1].product_type);\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sales\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.backModal,\n      onHide: this.handleBackModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }, \"Returning to the Start Screen will cause you to lose all progress on this customer.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 25\n      }\n    }, \"Do you wish to continue?\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleBackModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleBackModalYes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.clearModal,\n      onHide: this.handleClearModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, \"Clearing this form will cause you to lose all progress on this Sales Slip.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 25\n      }\n    }, \"Are you sure you want to continue?\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClearModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 25\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleClearModalYes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 25\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Header, {\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: IconHome,\n      alt: \"home\",\n      className: \"icon-home\",\n      onClick: () => this.setState({\n        backModal: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main product-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header2, {\n      id: id,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      options: options,\n      value: product_type,\n      onChangeValue: val => this.changeProductType(val),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 29\n      }\n    })), product_type !== '' && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-or-services\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      value: makemodel,\n      onChange: e => {\n        const value = e.target.value;\n\n        if ((value.match(/\\n/g) || []).length < 6) {\n          this.changeState({\n            makemodel: value\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 37\n      }\n    })), product_type === 'FOOD' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 45\n      }\n    }, this.renderListPrice())), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 53\n      }\n    }, \"Total Discount\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: total_discount,\n      onChange: e => this.changeState({\n        total_discount: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 57\n      }\n    }, \"0%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 57\n      }\n    }, \"5%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 57\n      }\n    }, \"10%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 57\n      }\n    }, \"15%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 57\n      }\n    }, \"20%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 25,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 57\n      }\n    }, \"25%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 30,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 57\n      }\n    }, \"30%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 35,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 57\n      }\n    }, \"35%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 40,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 57\n      }\n    }, \"40%\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 45,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 57\n      }\n    }, \"45%\")))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 45\n      }\n    }, this.renderCouponGroup()), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 45\n      }\n    }, this.renderAddDiscount()))) : /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 41\n      }\n    }, this.renderListPrice()), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 41\n      }\n    }, this.renderAddDiscount()), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 41\n      }\n    }, this.renderCouponGroup())), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 45\n      }\n    }, \"Net Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: net_price.toFixed(2),\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 45\n      }\n    }, \"Tax\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: tax,\n      onChange: e => this.changeState({\n        tax: this.validateInput(tax, e.target.value)\n      }),\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 45\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: balance.toFixed(2),\n      className: \"fixed_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"deposit-amounts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 33\n      }\n    }, \"DEPOSIT AMOUNTS\"), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 45\n      }\n    }, \"Cash / Credit\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: cash_credit,\n      onChange: e => this.changeState({\n        cash_credit: this.validateInput(cash_credit, e.target.value)\n      }),\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 45\n      }\n    }, \"Check\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      value: check,\n      onChange: e => this.changeState({\n        check: this.validateInput(check, e.target.value)\n      }),\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 45\n      }\n    }, \"Down Payment\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: down_payment,\n      className: \"fixed_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginTop: 15,\n        marginBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      style: {\n        textAlign: 'right',\n        paddingRight: 15,\n        marginTop: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 41\n      }\n    }, \"Unpaid Balance\")), /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 41\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: unpaid_balance.toFixed(2),\n      className: \"fixed_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: \"pr-26\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 45\n      }\n    }, \"Finance Period\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: finance_period,\n      onChange: e => this.changeState({\n        finance_period: parseInt(e.target.value)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 45\n      }\n    }, (product_type === 'FSP' || product_type === 'APP') && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 57\n      }\n    }, \"0 months\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 36,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 57\n      }\n    }, \"36 months\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 48,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 57\n      }\n    }, \"48 months\")), product_type === 'FOOD' && [...Array(13)].map((val, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: `month_${index}`,\n      value: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 57\n      }\n    }, index, \" months\"))))), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 45\n      }\n    }, \"Monthly Minimum\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input_symbol\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 49\n      }\n    }, \"$\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: true,\n      value: monthly_minimum.toFixed(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 49\n      }\n    }))))))), product_type !== '' && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 29\n      }\n    }, \"Price: \", price), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 29\n      }\n    }, \"Unpaid : \", unpaid_balance.toFixed(2)), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 29\n      }\n    }, \"Monthly: \", monthly_minimum.toFixed(2)))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }\n    }, activeState && /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        textAlign: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button product-button active\",\n      onClick: this.onSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 33\n      }\n    }, saved ? \"SAVE CHANGES\" : \"ADD TO ORDER\")), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button product-button active\",\n      onClick: () => this.setState({\n        clearModal: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 33\n      }\n    }, \"CLEAR\"))), !activeState && /*#__PURE__*/React.createElement(Button, {\n      className: \"button product-button active\",\n      onClick: this.onCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 25\n      }\n    }, \"CANCEL\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  customer: state.customer\n});\n\nexport default connect(mapStateToProps, {\n  addProduct,\n  removeProduct,\n  changeProduct,\n  clearCustomer\n})(ProductScreen);","map":{"version":3,"sources":["/home/freedom/Music/tcp-frontend/src/screens/Sales/Product.js"],"names":["React","Component","connect","Button","Form","Row","Col","Modal","Header","Header2","Footer","Checkbox","RadioGroup","addProduct","removeProduct","changeProduct","clearCustomer","INITIAL_PRODUCT","productOptions","IconHome","ProductScreen","state","backModal","clearModal","componentDidMount","id","parseInt","props","match","params","contact","products","customer","length","history","replace","console","log","changeState","data","handleBackModalClose","setState","handleBackModalYes","handleClearModalClose","handleClearModalYes","onCancel","onSave","saved","changeProductType","type","product_type","validateInput","origin","target","substring","renderListPrice","price","position","e","value","renderAddDiscount","add_discount","renderCouponGroup","coupon","render","isNaN","total_discount","tax","cash_credit","check","finance_period","makemodel","net_price","parseFloat","balance","down_payment","unpaid_balance","monthly_minimum","activeState","options","filter","option","val","toFixed","marginTop","marginBottom","textAlign","paddingRight","Array","map","index","marginLeft","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Row, Col, Modal } from 'react-bootstrap';\n\nimport Header from '../../components/Sales/Header';\nimport Header2 from '../../components/Sales/Header2';\nimport Footer from '../../components/Sales/Footer';\n\nimport Checkbox, { RadioGroup } from '../../components/Checkbox';\n\nimport { addProduct, removeProduct, changeProduct, clearCustomer } from '../../redux/actions/customer';\nimport { INITIAL_PRODUCT } from '../../redux/reducers/customer';\n\nimport { productOptions } from '../../assets/options';\nimport { IconHome } from '../../assets/images';\n\nclass ProductScreen extends Component {\n\n    state = {\n        backModal: false,\n        clearModal: false\n    }\n\n    componentDidMount = () => {\n        const id = parseInt(this.props.match.params.id);\n        const { contact, products } = this.props.customer;\n        // const { name } = contact;\n        // if (name === '' || isNaN(id)) {\n        //     this.props.history.replace('/sales');\n        // }\n        if (id >= products.length) {\n            this.props.history.replace('/sales');\n        }\n\n        console.log(customer)\n    }\n\n    changeState = (data) => {\n        const id = parseInt(this.props.match.params.id);\n        this.props.changeProduct(id, data);\n    }\n    \n    handleBackModalClose = () => {\n        this.setState({ backModal: false });\n    }\n\n    handleBackModalYes = () => {\n        this.props.clearCustomer();\n        this.props.history.replace('/sales');\n    }\n\n    handleClearModalClose = () => {\n        this.setState({ clearModal: false });\n    }\n\n    handleClearModalYes = () => {\n        this.changeState({\n            ...INITIAL_PRODUCT\n        });\n        this.setState({ clearModal: false });\n    }\n\n    onCancel = () => {\n        const id = parseInt(this.props.match.params.id);\n        this.props.removeProduct(id);\n        if (id === 0) {\n            this.props.history.replace('/contact');\n        } else {\n            this.props.history.replace('/summary');\n        }\n    }\n\n    onSave = () => {\n        this.changeState({ saved: true });\n        this.props.history.replace('/summary');\n    }\n\n    changeProductType = (type) => {\n        // let price = 0, tax = 0;\n        // if (type === 'FOOD') {\n        //     price = 1298;\n        //     tax = 0;\n        // } else if (type === 'APP') {\n        //     price = 2899;\n        //     tax = 159.45;\n        // } else if (type === 'FSP') {\n        //     price = 3799;\n        //     tax = 208.95;\n        // }\n        // this.changeState({\n        //     ...INITIAL_PRODUCT,\n        //     product_type: type,\n        //     price: price,\n        //     tax: tax\n        // });\n        this.changeState({\n            product_type: type\n        });\n    }\n\n    validateInput = (origin, target) => {\n        if (target === \"\") {\n            return \"0\";\n        }\n        if (origin === 0) {\n            return target.replace(\"0\", \"\")\n        }\n        if (target.length >= 2 && target[0] === \"0\" && target[1] !== \".\") {\n            return target.substring(1);\n        }\n        return target;\n    }\n\n    renderListPrice = () => {\n        const id = parseInt(this.props.match.params.id);\n        const { price } = this.props.customer.products[id];\n        return (\n            <Form.Group>\n                <Form.Label>List Price</Form.Label>\n                <div style={{ position: 'relative' }}>\n                    <span className=\"input_symbol\">$</span>\n                    <Form.Control\n                        value={price}\n                        onChange={e => this.changeState({price: this.validateInput(price, e.target.value)})}\n                        type=\"number\"\n                    />\n                </div>\n            </Form.Group>\n        )\n    }\n\n    renderAddDiscount = () => {\n        const id = parseInt(this.props.match.params.id);\n        const { add_discount } = this.props.customer.products[id];\n        return (\n            <Form.Group>\n                <Form.Label>Add. discount</Form.Label>\n                <div style={{ position: 'relative' }}>\n                    <span className=\"input_symbol\">$</span>\n                    <Form.Control\n                        value={add_discount}\n                        onChange={e => this.changeState({add_discount: this.validateInput(add_discount, e.target.value)})}\n                        type=\"number\"\n                    />\n                </div>\n            </Form.Group>\n        )\n    }\n\n    renderCouponGroup = () => {\n        const id = parseInt(this.props.match.params.id);\n        const coupon = this.props.customer.products[id].coupon;\n        return (\n            <Form.Group>\n                <Form.Label>Coupon</Form.Label>\n                <Form.Control\n                    as=\"select\"\n                    value={coupon}\n                    onChange={e => this.changeState({coupon: e.target.value})}\n                >\n                    <option value={0}>$0</option>\n                    <option value={25}>$25</option>\n                    <option value={50}>$50</option>\n                    <option value={75}>$75</option>\n                    <option value={100}>$100</option>\n                    <option value={125}>$125</option>\n                    <option value={150}>$150</option>\n                    <option value={175}>$175</option>\n                    <option value={200}>$200</option>\n                </Form.Control>\n            </Form.Group>\n        )\n    }\n\n    render() {\n        const id = parseInt(this.props.match.params.id);\n        const { products } = this.props.customer;\n        if (isNaN(id) || id >= products.length) {\n            return (\n                <div>\n\n                </div>\n            )\n        }\n        const {\n            product_type,\n            price,\n            total_discount,\n            coupon,\n            add_discount,\n            tax,\n            cash_credit,\n            check,\n            finance_period,\n            makemodel,\n            saved\n        } = products[id];\n\n        const net_price = parseFloat(price) * (100 - parseFloat(total_discount)) / 100 - parseFloat(add_discount) - parseInt(coupon)\n\n        const balance = net_price + parseFloat(tax);\n        const down_payment = parseFloat(cash_credit) + parseFloat(check);\n        const unpaid_balance = balance - down_payment;\n        let monthly_minimum = 0;\n        \n        if (product_type === 'FOOD') {\n            monthly_minimum = finance_period === 0 ? 0 : unpaid_balance / finance_period;    \n        } else if (product_type === 'FSP' || product_type === 'APP') {\n            monthly_minimum = unpaid_balance * (finance_period === 36 ? 0.035 : finance_period === 48 ? 0.03 : 0);\n        }\n\n        const activeState =\n            product_type !== ''&&\n            !isNaN(parseFloat(price)) &&\n            parseFloat(price) !== 0 &&\n            !isNaN(parseFloat(tax)) &&\n            !isNaN(parseFloat(total_discount)) &&\n            !isNaN(parseFloat(add_discount)) &&\n            !isNaN(parseInt(coupon)) &&\n            !isNaN(parseFloat(cash_credit)) &&\n            !isNaN(parseFloat(check)) &&\n            !(unpaid_balance > 0 && finance_period === 0)\n\n        let options = productOptions;\n        if (products.length >= 1) {\n            if (id !== 0) {\n                options = options.filter(option => option.value !== products[0].product_type);\n            }\n            if (products.length === 2 && id !== 1) {\n                options = options.filter(option => option.value !== products[1].product_type);\n            }\n        }\n\n        return (\n            <div className=\"sales\">\n                <Modal show={this.state.backModal} onHide={this.handleBackModalClose}>\n                    <Modal.Header closeButton></Modal.Header>\n                    <Modal.Body>\n                        <p>Returning to the Start Screen will cause you to lose all progress on this customer.</p>\n                        <p>Do you wish to continue?</p>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleBackModalClose}>\n                            No\n                        </Button>\n                        <Button variant=\"primary\" onClick={this.handleBackModalYes}>\n                            Yes\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n                <Modal show={this.state.clearModal} onHide={this.handleClearModalClose}>\n                    <Modal.Header closeButton></Modal.Header>\n                    <Modal.Body>\n                        <p>Clearing this form will cause you to lose all progress on this Sales Slip.</p>\n                        <p>Are you sure you want to continue?</p>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClearModalClose}>\n                            No\n                        </Button>\n                        <Button variant=\"primary\" onClick={this.handleClearModalYes}>\n                            Yes\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n\n                <Header history={this.props.history}>\n                    <img src={IconHome} alt=\"home\" className=\"icon-home\" onClick={() => this.setState({ backModal: true })} />\n                </Header>\n                <div className=\"main product-page\">\n                    <Header2\n                        id={id}\n                        history={this.props.history}\n                    />\n                    <div className=\"container\">\n\n                        <Form.Group>\n                            <RadioGroup options={options} value={product_type} onChangeValue={val => this.changeProductType(val)} />\n                        </Form.Group>\n\n                        { product_type !== '' && (\n                            <div>\n                                <div className=\"good-or-services\">\n                                    <textarea\n                                        value={makemodel}\n                                        onChange={e => {\n                                            const value = e.target.value;\n                                            if ((value.match(/\\n/g) || []).length < 6) {\n                                                this.changeState({ makemodel: value });\n                                            }\n                                        }}\n                                    />\n                                </div>\n                                { product_type === 'FOOD' ? (\n                                    <>\n                                        <Row>\n                                            <Col xs={4} className=\"pr-26\">\n                                                { this.renderListPrice() }\n                                            </Col>\n                                        </Row>\n\n                                        <Row>\n                                            <Col xs={4} className=\"pr-26\">\n                                                <Form.Group>\n                                                    <Form.Label>Total Discount</Form.Label>\n                                                    <Form.Control\n                                                        as=\"select\"\n                                                        value={total_discount}\n                                                        onChange={e => this.changeState({total_discount: e.target.value})}\n                                                    >\n                                                        <option value={0}>0%</option>\n                                                        <option value={5}>5%</option>\n                                                        <option value={10}>10%</option>\n                                                        <option value={15}>15%</option>\n                                                        <option value={20}>20%</option>\n                                                        <option value={25}>25%</option>\n                                                        <option value={30}>30%</option>\n                                                        <option value={35}>35%</option>\n                                                        <option value={40}>40%</option>\n                                                        <option value={45}>45%</option>\n                                                    </Form.Control>\n                                                </Form.Group>\n                                            </Col>\n                                            <Col xs={4} className=\"pr-26\">\n                                                { this.renderCouponGroup() }\n                                            </Col>\n                                            <Col xs={4}>\n                                                { this.renderAddDiscount() }\n                                            </Col>\n                                        </Row>\n                                    </>\n                                ) : (\n                                    <Row>\n                                        <Col xs={4} className=\"pr-26\">\n                                            { this.renderListPrice() }\n                                        </Col>\n                                        <Col xs={4} className=\"pr-26\">\n                                            { this.renderAddDiscount() }\n                                        </Col>\n                                        <Col xs={4}>\n                                            { this.renderCouponGroup() }\n                                        </Col>\n                                    </Row>\n                                )}\n\n                                <Row>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Net Price</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={net_price.toFixed(2)}\n                                                    disabled\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Tax</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={tax}\n                                                    onChange={e => this.changeState({ tax: this.validateInput(tax, e.target.value) })}\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4}>\n                                        <Form.Group>\n                                            <Form.Label>Balance</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    disabled\n                                                    value={balance.toFixed(2)}\n                                                    className=\"fixed_input\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <div className=\"deposit-amounts\">DEPOSIT AMOUNTS</div>\n                                <Row>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Cash / Credit</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={cash_credit}\n                                                    onChange={e => this.changeState({cash_credit: this.validateInput(cash_credit, e.target.value) })}\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Check</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    value={check}\n                                                    onChange={e => this.changeState({check: this.validateInput(check, e.target.value) })}\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={4}>\n                                        <Form.Group>\n                                            <Form.Label>Down Payment</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    disabled\n                                                    value={down_payment}\n                                                    className=\"fixed_input\"\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <Row style={{ marginTop: 15, marginBottom: 20 }}>\n                                    <Col xs={4}></Col>\n                                    <Col xs={4} style={{ textAlign: 'right', paddingRight: 15, marginTop: 8 }}>\n                                        <Form.Label>Unpaid Balance</Form.Label>             \n                                    </Col>\n                                    <Col xs={4}>\n                                        <span className=\"input_symbol\">$</span>\n                                        <Form.Control\n                                            disabled\n                                            value={unpaid_balance.toFixed(2)}\n                                            className=\"fixed_input\"\n                                        />\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs={6} className=\"pr-26\">\n                                        <Form.Group>\n                                            <Form.Label>Finance Period</Form.Label>\n                                            <Form.Control\n                                                as=\"select\"\n                                                value={finance_period}\n                                                onChange={e => this.changeState({finance_period: parseInt(e.target.value)})}\n                                            >\n                                                { (product_type === 'FSP' || product_type === 'APP') && (\n                                                    <>\n                                                        <option value={0}>0 months</option>\n                                                        <option value={36}>36 months</option>\n                                                        <option value={48}>48 months</option>\n                                                    </>\n                                                )}\n                                                { product_type === 'FOOD' && (\n                                                    [...Array(13)].map((val, index) => (\n                                                        <option key={`month_${index}`} value={index}>{index} months</option>\n                                                    ))\n                                                )}\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col xs={6}>\n                                        <Form.Group>\n                                            <Form.Label>Monthly Minimum</Form.Label>\n                                            <div style={{ position: 'relative' }}>\n                                                <span className=\"input_symbol\">$</span>\n                                                <Form.Control\n                                                    disabled\n                                                    value={monthly_minimum.toFixed(2)}\n                                                />\n                                            </div>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                            </div>\n                        )}\n                    </div>\n\n                    { product_type !== '' && (\n                        <div className=\"total\">\n                            <span>Price: {price}</span>\n                            <span style={{ marginLeft: 25 }}>Unpaid : {unpaid_balance.toFixed(2)}</span>\n                            <span style={{ marginLeft: 25 }}>Monthly: {monthly_minimum.toFixed(2)}</span>\n                        </div>\n                    ) }\n                </div>\n                <Footer>\n                    { activeState && (\n                        <Row>                        \n                            <Col xs={6} style={{ textAlign: 'right' }}>\n                                <Button className=\"button product-button active\" onClick={this.onSave}>\n                                    { saved ? \"SAVE CHANGES\" : \"ADD TO ORDER\" }\n                                </Button>\n                            </Col>\n                            <Col xs={6} style={{ textAlign: 'center' }}>\n                                <Button className=\"button product-button active\" onClick={() => this.setState({ clearModal: true })}>\n                                    CLEAR\n                                </Button>\n                            </Col>\n                        </Row>\n                    )}\n                    { !activeState && (\n                        <Button className=\"button product-button active\" onClick={this.onCancel}>\n                            CANCEL\n                        </Button>\n                    )}\n                </Footer>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    customer: state.customer\n});\n\nexport default connect(\n    mapStateToProps,\n    {\n        addProduct,\n        removeProduct,\n        changeProduct,\n        clearCustomer\n    }\n)(ProductScreen);"]},"metadata":{},"sourceType":"module"}