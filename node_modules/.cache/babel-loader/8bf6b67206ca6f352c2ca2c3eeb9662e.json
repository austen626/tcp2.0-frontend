{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp-frontend/src/screens/Dealer/CustomerLoanHistoryList.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport { Form, Row, Button } from \"react-bootstrap\";\nimport { iconNotify, iconPaid } from \"../../assets/images\";\nimport { changeCustomer } from \"../../redux/actions/customer\";\nimport { sendPreapproval } from \"../../redux/actions/customers\";\nimport CustomerLoadDetails from './CustomerLoadDetails';\nimport DivLoader from \"shared/Loader/divLoader\";\nimport { setLoanProductName } from 'utils/helper';\nimport { HistoryDivLoader, CustomerHistoryNoFound } from './style';\n\nclass CustomerLoanHistoryList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentWidth: 500,\n      openLoadDetails: false,\n      optionPaymentIndexOpen: null\n    };\n\n    this.handleOpenLoadDetails = (mapId, acctrefno) => {\n      const {\n        getCustomerPaymentHistory\n      } = this.props;\n      const {\n        optionPaymentIndexOpen\n      } = this.state;\n\n      if (mapId === optionPaymentIndexOpen) {\n        this.setState({\n          optionPaymentIndexOpen: null\n        });\n      } else {\n        getCustomerPaymentHistory({\n          id: acctrefno\n        });\n        this.setState({\n          optionPaymentIndexOpen: mapId\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      customerData,\n      companyName\n    } = this.props;\n    const {\n      historyData,\n      isHistoryLoading,\n      paymentHistoryData,\n      isPaymentHistoryLoading\n    } = customerData;\n    const {\n      optionPaymentIndexOpen\n    } = this.state;\n\n    const IconSmallArrowRight = props => {\n      return /*#__PURE__*/React.createElement(\"svg\", {\n        className: `arrow-icon ${props.id === optionPaymentIndexOpen && \"arrow-icon-active\"}`,\n        enableBackground: \"new 0 0 12 12\",\n        height: \"12px\",\n        id: \"Layer_1\",\n        version: \"1.1\",\n        viewBox: \"0 0 32 32\",\n        width: \"32px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M24.291,14.276L14.705,4.69c-0.878-0.878-2.317-0.878-3.195,0l-0.8,0.8c-0.878,0.877-0.878,2.316,0,3.194  L18.024,16l-7.315,7.315c-0.878,0.878-0.878,2.317,0,3.194l0.8,0.8c0.878,0.879,2.317,0.879,3.195,0l9.586-9.587  c0.472-0.471,0.682-1.103,0.647-1.723C24.973,15.38,24.763,14.748,24.291,14.276z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }));\n    };\n\n    return this.props.commentBoxShow ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-div \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Comments\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"Add Comment\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-box-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"default\",\n      className: \"custom-btn\",\n      onClick: this.props.handleCommentClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"default\",\n      className: \"custom-btn\",\n      onClick: this.props.handleCommentClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 33\n      }\n    }, \"Comment\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, \"The quick, brown fox jumps over a lazy dog. DJs flock by when MTV ax quiz prog. Junk MTV quiz graced by fox whelps. Bawds jog, flick quartz, vex nymphs...\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \"The quick, brown fox jumps over a lazy dog. DJs flock by when MTV ax quiz prog. Junk MTV quiz graced by fox whelps. Bawds jog, flick quartz, vex nymphs...\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"The quick, brown fox jumps over a lazy dog. DJs flock by when MTV ax quiz prog. Junk MTV quiz graced by fox whelps. Bawds jog, flick quartz, vex nymphs...\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"history-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"history-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Customer History\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"history-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, isHistoryLoading && /*#__PURE__*/React.createElement(HistoryDivLoader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(DivLoader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    })), historyData.length === 0 && !isHistoryLoading && /*#__PURE__*/React.createElement(CustomerHistoryNoFound, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"no-found-history d-flex justify-content-center align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 33\n      }\n    }, companyName, \" does not have any borrowing history available\"))), historyData && historyData.map((item, index) => {\n      if (item.Details) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"history-row\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"history\",\n          onClick: () => this.handleOpenLoadDetails('map' + index, item.Acctrefno),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 41\n          }\n        }, parseInt(item.Details.Total_Past_Due) > 5 ? /*#__PURE__*/React.createElement(\"img\", {\n          className: \"status-icon\",\n          src: iconNotify,\n          alt: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 49\n          }\n        }) : /*#__PURE__*/React.createElement(\"img\", {\n          className: \"status-icon\",\n          src: iconPaid,\n          alt: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 49\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(IconSmallArrowRight, {\n          id: 'map' + index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 51\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"loan\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"info\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 49\n          }\n        }, `${setLoanProductName(item.Loan_Number)},`, \"\\xA0 ORDER \", item.Open_Date ? moment(new Date(item.Open_Date)).format(\"DD-MMM-YYYY\") || \"-\" : \"-\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"load-id\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 49\n          }\n        }, \"Loan No: \", item.Loan_Number))), optionPaymentIndexOpen === 'map' + index && /*#__PURE__*/React.createElement(CustomerLoadDetails, {\n          items: item,\n          paymentHistoryData: paymentHistoryData,\n          isPaymentHistoryLoading: isPaymentHistoryLoading,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 45\n          }\n        }));\n      } else {\n        return null;\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  customer: state.customers.selected\n});\n\nexport default connect(mapStateToProps, {\n  sendPreapproval,\n  changeCustomer\n})(CustomerLoanHistoryList);","map":{"version":3,"sources":["/home/freedom/Music/tcp-frontend/src/screens/Dealer/CustomerLoanHistoryList.js"],"names":["React","Component","connect","moment","Form","Row","Button","iconNotify","iconPaid","changeCustomer","sendPreapproval","CustomerLoadDetails","DivLoader","setLoanProductName","HistoryDivLoader","CustomerHistoryNoFound","CustomerLoanHistoryList","state","currentWidth","openLoadDetails","optionPaymentIndexOpen","handleOpenLoadDetails","mapId","acctrefno","getCustomerPaymentHistory","props","setState","id","render","customerData","companyName","historyData","isHistoryLoading","paymentHistoryData","isPaymentHistoryLoading","IconSmallArrowRight","commentBoxShow","handleCommentClick","length","map","item","index","Details","Acctrefno","parseInt","Total_Past_Due","Loan_Number","Open_Date","Date","format","mapStateToProps","customer","customers","selected"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport { Form, Row, Button, } from \"react-bootstrap\";\nimport { iconNotify, iconPaid } from \"../../assets/images\";\nimport { changeCustomer } from \"../../redux/actions/customer\";\nimport {\n    sendPreapproval,\n} from \"../../redux/actions/customers\";\nimport CustomerLoadDetails from './CustomerLoadDetails';\nimport DivLoader from \"shared/Loader/divLoader\";\nimport { setLoanProductName } from 'utils/helper';\nimport { HistoryDivLoader, CustomerHistoryNoFound } from './style';\nclass CustomerLoanHistoryList extends Component {\n    \n    state = {\n        currentWidth: 500,\n        openLoadDetails: false,\n        optionPaymentIndexOpen: null\n    };\n\n    handleOpenLoadDetails = (mapId, acctrefno) => {\n        const { getCustomerPaymentHistory } = this.props;\n        const { optionPaymentIndexOpen } = this.state;\n\n        if(mapId === optionPaymentIndexOpen) {\n            this.setState({\n                optionPaymentIndexOpen: null,\n            });\n        } else {\n            getCustomerPaymentHistory({\n                id: acctrefno\n            })\n            this.setState({\n                optionPaymentIndexOpen: mapId,\n            });\n        }\n    };\n\n    render() {\n        const { customerData, companyName } = this.props;\n        const { historyData, isHistoryLoading, paymentHistoryData, isPaymentHistoryLoading } = customerData;\n        const { optionPaymentIndexOpen } = this.state;\n        const IconSmallArrowRight = (props) => {\n            return (\n                <svg className={`arrow-icon ${props.id === optionPaymentIndexOpen && \"arrow-icon-active\"}`} enableBackground=\"new 0 0 12 12\" height=\"12px\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 32 32\" width=\"32px\">\n                    <path d=\"M24.291,14.276L14.705,4.69c-0.878-0.878-2.317-0.878-3.195,0l-0.8,0.8c-0.878,0.877-0.878,2.316,0,3.194  L18.024,16l-7.315,7.315c-0.878,0.878-0.878,2.317,0,3.194l0.8,0.8c0.878,0.879,2.317,0.879,3.195,0l9.586-9.587  c0.472-0.471,0.682-1.103,0.647-1.723C24.973,15.38,24.763,14.748,24.291,14.276z\"/>\n                </svg>\n            )\n        }\n\n        return (\n        this.props.commentBoxShow ? (            \n            <div className=\"comment-div \">\n                <div className=\"comment-header\">Comments</div>\n                <div className=\"comment-section\">\n                    <div className=\"comment-box\">\n                        <Form.Group>\n                            <Form.Label>Add Comment</Form.Label>\n                            <Form.Control as=\"textarea\" rows=\"3\" />\n                            <div className=\"comment-box-action\">\n                                <Button\n                                    variant=\"default\"\n                                    className=\"custom-btn\"\n                                    onClick={this.props.handleCommentClick}\n                                >\n                                    Cancel\n                                </Button>\n                                <Button\n                                    variant=\"default\"\n                                    className=\"custom-btn\"\n                                    onClick={this.props.handleCommentClick}\n                                >\n                                    Comment\n                                </Button>\n                            </div>\n                        </Form.Group>\n                    </div>\n                    <div className=\"comment-list\">\n                        <div className=\"comment\">\n                            <p>\n                                The quick, brown fox jumps over a lazy dog. DJs\n                                flock by when MTV ax quiz prog. Junk MTV quiz\n                                graced by fox whelps. Bawds jog, flick quartz,\n                                vex nymphs...\n                            </p>\n                        </div>\n                        <div className=\"comment\">\n                            <p>\n                                The quick, brown fox jumps over a lazy dog. DJs\n                                flock by when MTV ax quiz prog. Junk MTV quiz\n                                graced by fox whelps. Bawds jog, flick quartz,\n                                vex nymphs...\n                            </p>\n                        </div>\n                        <div className=\"comment\">\n                            <p>\n                                The quick, brown fox jumps over a lazy dog. DJs\n                                flock by when MTV ax quiz prog. Junk MTV quiz\n                                graced by fox whelps. Bawds jog, flick quartz,\n                                vex nymphs...\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ) : (\n            <div className=\"history-div\">\n               \n                <div className=\"history-header\">Customer History</div>\n                <div className=\"history-info\">\n                    {\n                        isHistoryLoading &&  \n                        <HistoryDivLoader>\n                            <DivLoader />\n                        </HistoryDivLoader>\n                    }\n\n                    {\n                        historyData.length === 0 && \n                        !isHistoryLoading &&\n                        <CustomerHistoryNoFound>\n                            <Row className=\"no-found-history d-flex justify-content-center align-items-center\">\n                                <div>{ companyName } does not have any borrowing history available</div>\n                            </Row>\n                        </CustomerHistoryNoFound>\n                        \n                    }\n                   \n                    {\n                        historyData && \n                        historyData.map((item, index) => {\n                            if(item.Details) {\n                                return (\n                                    <div className=\"history-row\" key={index}>\n                                        <div className=\"history\" onClick={() => this.handleOpenLoadDetails('map'+index, item.Acctrefno)}>\n                                            {\n                                                parseInt(item.Details.Total_Past_Due) > 5 ?\n                                                <img\n                                                    className=\"status-icon\"\n                                                    src={iconNotify}\n                                                    alt=\"\"\n                                                />  \n                                                :                                                                                   \n                                                <img className=\"status-icon\" src={iconPaid} alt=\"\" />                                                \n                                            }\n                                            <span><IconSmallArrowRight id={ 'map'+index }/></span>\n                                            <div className=\"loan\">\n                                                <div className=\"info\">\n                                                    { `${ setLoanProductName(item.Loan_Number) },` }&nbsp; ORDER { item.Open_Date ? (moment(new Date(item.Open_Date)).format(\"DD-MMM-YYYY\")  || \"-\") : \"-\"}\n                                                </div>\n                                                <div className=\"load-id\">Loan No: { item.Loan_Number }</div>\n                                            </div>\n                                            \n                                        </div>\n                                        { (optionPaymentIndexOpen ===  ('map'+index)) && (\n                                            <CustomerLoadDetails \n                                                items = { item }\n                                                paymentHistoryData = { paymentHistoryData }\n                                                isPaymentHistoryLoading= { isPaymentHistoryLoading } />\n                                        )}\n                                    </div>\n                                )\n                            } else {\n                                return null;\n                            }                           \n                        })\n                    }\n                        {/* <div key={14234234} className=\"history\">\n                            <img\n                                className=\"status-icon\"\n                                src={iconNotify}\n                                alt=\"\"\n                            />\n                            {IconSmallArrowRight}\n                            <div className=\"loan\">\n                                <div className=\"info\">\n                                    [PRODUCT] ORDER {\"12-sep-2020\"}\n                                </div>\n                                <div className=\"load-id\">Load No: 852549</div>\n                            </div>\n                        </div> \n                        //  {this.state.openLoadDetails && (\n                        //     <CustomerLoadDetails />\n                        // )} */}\n                    \n                    {/* <div key={1234541} className=\"history\">\n                        <img className=\"status-icon\" src={iconPaid} alt=\"\" />                        \n                        {IconSmallArrowRight}\n                        <div className=\"loan\">\n                            <div className=\"info\">\n                                [PRODUCT] ORDER {\"12-sep-2020\"}\n                            </div>\n                            <div className=\"load-id\">Load No: 852549</div>\n                        </div>\n                    </div> */}\n                </div>\n            </div>\n         ) );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    customer: state.customers.selected,\n});\n\nexport default connect(mapStateToProps, {\n    sendPreapproval,\n    changeCustomer,\n})(CustomerLoanHistoryList);\n"]},"metadata":{},"sourceType":"module"}