{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp2.0-frontend/src/screens/Dealer/DealerPreApprovals.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Row, Col, Button, Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport { setApplianceFlag, capitalize } from 'utils/helper';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from '../../components/Dealer/Header';\nimport Footer from '../../components/Dealer/Footer';\nimport { changeCustomer, addProduct, changeProduct } from '../../redux/actions/customer';\nimport { IconPreapprovalWaiting, IconPreapprovalDeclined, IconSortInActive, IconSortActive, IconSearchInActive, IconSearchActive, IconFilterActive, IconFilterInActive, IconArrowLeft, IconTrash } from '../../assets/images';\nimport { getAppDetailById, changeApplicationStatus } from '../../redux/actions/sales';\nimport { getPreApprovalCustomers } from '../../redux/actions/customers';\nimport Loader from 'shared/Loader';\nimport IconRefresh from \"assets/images/icons8-refresh.svg\";\nimport { TrashContainer } from './style';\nimport ListPreapprovalType from './listPreapprovalType';\n\nclass DealerPreApprovals extends Component {\n  constructor(...args) {\n    super(...args);\n    this.sidebarRef = React.createRef();\n    this.state = {\n      sortClicked: false,\n      searchClicked: false,\n      filterClicked: false,\n      sidebarOpen: \"\",\n      sortBy: \"date-new\",\n      filterStatus: \"all\",\n      filterPerson: \"all\",\n      filterCategory: \"all\",\n      searchVal: \"\",\n      deleteId: '',\n      backModal: false\n    };\n\n    this.handleArrowBack = () => {\n      this.props.history.goBack();\n    };\n\n    this.handleGenerateOrderClick = (customer, id) => {\n      const {\n        product_type\n      } = customer.preapproval;\n      const {\n        changeProduct\n      } = this.props;\n      const co_enabled = customer.co_customer.id ? true : false;\n      this.props.changeCustomer({\n        order_type: 2,\n        co_enabled: co_enabled,\n        type: 'preorder',\n        preapproval_id: id,\n        existing_customer_id: customer.cif_number,\n        main_app: {\n          name: customer.name,\n          email: customer.email,\n          dobY: customer.dobY,\n          dobM: customer.dobM,\n          dobD: customer.dobD,\n          ssn: customer.ssn,\n          dl: customer.dl,\n          nod: customer.nod,\n          cell_phone: customer.cell_phone,\n          home_phone: customer.home_phone,\n          street: customer.street,\n          city: customer.city,\n          state: customer.state,\n          zip: customer.zip,\n          yt1: customer.yt1,\n          own_or_rent: customer.own_or_rent,\n          present_employer: customer.present_employer,\n          yt2: customer.yt2,\n          job_title: customer.job_title,\n          employer_phone: customer.employer_phone,\n          monthly_income: customer.monthly_income,\n          additional_income: customer.additional_income,\n          source: customer.source,\n          landlord_holder: customer.landlord_holder,\n          monthly_rent_payment: customer.monthly_rent_payment\n        },\n        co_app: {\n          name: co_enabled ? customer.co_customer.name : \"\",\n          email: co_enabled ? customer.co_customer.email : \"\",\n          dobY: co_enabled ? customer.co_customer.dobY : \"\",\n          dobM: co_enabled ? customer.co_customer.dobM : \"\",\n          dobD: co_enabled ? customer.co_customer.dobD : \"\",\n          ssn: co_enabled ? customer.co_customer.ssn : \"\",\n          dl: co_enabled ? customer.co_customer.dl : \"\",\n          nod: co_enabled ? customer.co_customer.nod : \"\",\n          cell_phone: co_enabled ? customer.co_customer.cell_phone : \"\",\n          home_phone: co_enabled ? customer.co_customer.home_phone : \"\",\n          street: co_enabled ? customer.co_customer.street : \"\",\n          city: co_enabled ? customer.co_customer.city : \"\",\n          state: co_enabled ? customer.co_customer.state : \"\",\n          zip: co_enabled ? customer.co_customer.zip : \"\",\n          yt1: co_enabled ? customer.co_customer.yt1 : \"\",\n          own_or_rent: co_enabled ? customer.co_customer.own_or_rent : \"\",\n          present_employer: co_enabled ? customer.co_customer.present_employer : \"\",\n          yt2: co_enabled ? customer.co_customer.yt2 : \"\",\n          job_title: co_enabled ? customer.co_customer.job_title : \"\",\n          employer_phone: co_enabled ? customer.co_customer.employer_phone : \"\",\n          monthly_income: co_enabled ? customer.co_customer.monthly_income : \"\",\n          additional_income: co_enabled ? customer.co_customer.additional_income : \"\",\n          source: co_enabled ? customer.co_customer.source : \"\",\n          landlord_holder: co_enabled ? customer.co_customer.landlord_holder : \"\",\n          monthly_rent_payment: co_enabled ? customer.co_customer.monthly_rent_payment : \"\"\n        }\n      });\n      this.props.addProduct();\n      changeProduct(0, {\n        product_type: product_type.replace(/ +/g, \"\") === 'appliance' || product_type.replace(/ +/g, \"\") === 'food,appliance' ? 'FSP' : 'FOOD'\n      });\n      this.props.history.push('/product/0');\n    };\n\n    this.handleSortClick = () => {\n      this.setState({\n        sidebarOpen: \"sort\"\n      });\n    };\n\n    this.handleFilterClick = () => {\n      this.setState({\n        sidebarOpen: \"filter\"\n      });\n    };\n\n    this.handleSearchClick = () => {\n      this.setState({\n        searchClicked: !this.state.searchClicked\n      });\n    };\n\n    this.handleSearchRowClick = (cifno, type) => {\n      this.props.history.push(`/customer/${cifno}/${type || 'food'}`);\n    };\n\n    this.handleSideBarApply = () => {\n      const {\n        sidebarOpen\n      } = this.state;\n\n      if (sidebarOpen === \"sort\") {\n        this.setState({\n          sidebarOpen: \"\",\n          sortClicked: true\n        });\n      } else if (sidebarOpen === \"search\") {\n        this.setState({\n          sidebarOpen: \"\",\n          searchClicked: true\n        });\n      } else if (sidebarOpen === \"filter\") {\n        this.setState({\n          sidebarOpen: \"\",\n          filterClicked: true\n        });\n      }\n    };\n\n    this.handleSideBarClear = () => {\n      const {\n        sidebarOpen\n      } = this.state;\n\n      if (sidebarOpen === \"sort\") {\n        this.setState({\n          sidebarOpen: \"\",\n          sortClicked: false,\n          sortBy: \"date-new\"\n        });\n      } else if (sidebarOpen === \"search\") {\n        this.setState({\n          sidebarOpen: \"\",\n          searchClicked: false\n        });\n      } else if (sidebarOpen === \"filter\") {\n        this.setState({\n          sidebarOpen: \"\",\n          filterClicked: false,\n          filterStatus: \"all\",\n          filterPerson: \"all\",\n          filterCategory: \"all\"\n        });\n      }\n    };\n\n    this.renderSideBarOptions = () => {\n      const {\n        sidebarOpen,\n        sortBy,\n        filterStatus,\n        filterPerson\n      } = this.state;\n      const names = this.props.apps.map(app => app.name);\n\n      if (sidebarOpen === \"sort\") {\n        return /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: sortBy,\n          onChange: e => {\n            this.setState({\n              sortBy: e.target.value\n            });\n            this.setState({\n              sortClicked: true\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"date-new\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }\n        }, \"Date: newest\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"date-old\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }\n        }, \"Date: oldest\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"name-ascending\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }\n        }, \"Name: A-Z\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"date-descending\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }\n        }, \"Name: Z-A\"));\n      }\n\n      if (sidebarOpen === \"filter\") {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: filterStatus,\n          onChange: e => {\n            this.setState({\n              filterClicked: true\n            });\n            this.setState({\n              filterStatus: e.target.value\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"all\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }\n        }, \"Status\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }\n        }, \"Approved\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }\n        }, \"Declined\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }\n        }, \"Waiting\")), /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: filterPerson,\n          onChange: e => {\n            this.setState({\n              filterPerson: e.target.value\n            });\n            this.setState({\n              filterClicked: true\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          key: \"all\",\n          value: \"all\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }\n        }, \"Customer Name\"), names.filter((name, index) => names.indexOf(name) === index).map(name => /*#__PURE__*/React.createElement(\"option\", {\n          key: name,\n          value: name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }\n        }, name))));\n      }\n    };\n\n    this.renderSideBar = () => {\n      const {\n        sidebarOpen\n      } = this.state;\n\n      if (sidebarOpen === \"\") {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.sidebarRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sidebar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }\n      }, this.renderSideBarOptions()), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleSideBarApply,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 29\n        }\n      }, \"Close\")), /*#__PURE__*/React.createElement(Col, {\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleSideBarClear,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 29\n        }\n      }, \"CLEAR\")))));\n    };\n\n    this.handleAppClick = appId => {\n      this.props.getAppDetailById(appId);\n      this.props.history.push(`/app-details/${appId}`);\n    };\n\n    this.deletePreApprovals = preApprovalItemId => {\n      this.setState({\n        deleteId: preApprovalItemId,\n        backModal: true\n      });\n    };\n\n    this.handleBackModalClose = () => {\n      this.setState({\n        backModal: false\n      });\n    };\n\n    this.handleBackModalYes = () => {\n      const {\n        changeApplicationStatus,\n        getPreApprovalCustomers\n      } = this.props;\n      const pageStatus = this.props.match.params.status;\n      const {\n        deleteId\n      } = this.state;\n      this.setState({\n        backModal: false\n      });\n      changeApplicationStatus({\n        getPreApprovalCustomers: getPreApprovalCustomers,\n        pageStatus: pageStatus,\n        id: deleteId,\n        type: 'pre-approval'\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.getPreApprovalCustomers(); // document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {// document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  } // handleClickOutside = (event) => {\n  //     if (this.sidebarRef && this.sidebarRef.current && !this.sidebarRef.current.contains(event.target)) {\n  //         this.setState({ sidebarOpen: \"\" });\n  //     }\n  // }\n\n\n  render() {\n    var _apps;\n\n    const {\n      sortClicked,\n      searchClicked,\n      filterClicked,\n      searchVal\n    } = this.state;\n    const {\n      customersData\n    } = this.props;\n    let apps = this.props.apps;\n\n    if (searchClicked && searchVal !== '') {\n      apps = apps.filter(app => app.name.toLowerCase().includes(searchVal.toLowerCase()));\n    }\n\n    if (filterClicked) {\n      const {\n        filterStatus,\n        filterPerson,\n        filterCategory\n      } = this.state;\n\n      if (filterStatus !== \"all\") {\n        apps = apps.filter(app => app.preapproval.status.toString() === filterStatus);\n      }\n\n      if (filterPerson !== \"all\") {\n        apps = apps.filter(app => app.name === filterPerson);\n      }\n\n      if (filterCategory !== \"all\") {\n        apps = apps.filter(app => app.products.find(product => product.type.toLowerCase() === filterCategory.toLowerCase()) !== undefined);\n      }\n    }\n\n    if (sortClicked) {\n      const {\n        sortBy\n      } = this.state;\n\n      if (sortBy === \"name-ascending\") {\n        apps = apps.sort((a, b) => a.name > b.name ? 1 : -1);\n      } else if (sortBy === \"date-descending\") {\n        apps = apps.sort((a, b) => a.name < b.name ? 1 : -1);\n      } else if (sortBy === \"date-new\") {\n        apps = apps.sort((a, b) => moment(new Date(b.preapproval.updated_at)).format(\"X\") - moment(new Date(a.preapproval.updated_at)).format(\"X\"));\n      } else if (sortBy === \"date-old\") {\n        apps = apps.sort((a, b) => moment(new Date(a.preapproval.updated_at)).format(\"X\") - moment(new Date(b.preapproval.updated_at)).format(\"X\"));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 13\n      }\n    }, customersData.loading && /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 44\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.backModal,\n      onHide: this.handleBackModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }, \"Are you sure you want to delete this item from the system? You will not be able to access this record again.\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleBackModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleBackModalYes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 25\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HeaderLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: IconArrowLeft,\n      onClick: this.handleArrowBack,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: sortClicked ? IconSortActive : IconSortInActive,\n      onClick: this.handleSortClick,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(HeaderCenter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    }, \"PREAPPROVAL REQUEST\")), /*#__PURE__*/React.createElement(HeaderRight, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: searchClicked ? IconSearchActive : IconSearchInActive,\n      onClick: this.handleSearchClick,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: filterClicked ? IconFilterActive : IconFilterInActive,\n      onClick: this.handleFilterClick,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"preapproval-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 17\n      }\n    }, searchClicked && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer-list-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      placeholder: \"Search\",\n      value: this.state.searchVal,\n      onChange: e => this.setState({\n        searchVal: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }\n    }, (_apps = apps) === null || _apps === void 0 ? void 0 : _apps.map((app, index) => {\n      let createdAt = \"\";\n\n      if (app.preapproval && app.preapproval.created_at) {\n        createdAt = moment(app.preapproval.created_at, 'YYYY/MM/DD').format('MM/DD/YYYY');\n      }\n\n      let updatedAt = \"\";\n\n      if (app.preapproval && app.preapproval.updated_at) {\n        updatedAt = moment(app.preapproval.updated_at, 'YYYY/MM/DD').format('MM/DD/YYYY');\n      }\n\n      let earliestDate = \"\";\n\n      if (app.preapproval && app.preapproval.earliest_delivery_date) {\n        earliestDate = moment(app.preapproval.earliest_delivery_date, 'YYYY/MM/DD').format('MM/DD/YYYY');\n      }\n\n      const preapprovalRequestMSG = app.preapproval && app.preapproval && app.preapproval.message;\n      const messageSplit = preapprovalRequestMSG && preapprovalRequestMSG.split('#');\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: `request-row ${index % 2 === 0 && \"dark\"}`,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: 6,\n        md: 4,\n        className: \"data\",\n        onClick: () => {\n          this.handleSearchRowClick(app.id, app.preapproval.product_type);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 45\n        }\n      }, app.name, app.co_customer && app.co_customer.name && /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 45\n        }\n      }, ` and ${app.co_customer.name}`)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sub-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 45\n        }\n      }, app.street, \" \", app.city, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 100\n        }\n      }), \" \", app.zip, \" \", app.state)), /*#__PURE__*/React.createElement(Col, {\n        xs: 3,\n        md: 4,\n        className: \"data text-center\",\n        onClick: () => {\n          this.handleSearchRowClick(app.id, app.preapproval.product_type);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 41\n        }\n      }, app.preapproval.status !== 0 && /*#__PURE__*/React.createElement(ListPreapprovalType, {\n        item: app.preapproval.product_type,\n        messageSplit: messageSplit,\n        status: app.preapproval.status,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 49\n        }\n      }), app.preapproval.status === 1 && setApplianceFlag(app.preapproval.product_type) !== 'Food' && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 49\n        }\n      }, capitalize(app.preapproval.appliance)), earliestDate ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 50\n        }\n      }, \"Earliest delivery date: \", earliestDate || \"\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 63\n        }\n      }, \"Request: \", createdAt), updatedAt !== \"\" && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 73\n        }\n      }, \"Last Update: \", updatedAt || \"\"), \" \")), /*#__PURE__*/React.createElement(Col, {\n        xs: 3,\n        md: 4,\n        className: \"data text-center d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 41\n        }\n      }, app.preapproval.pre_approvals_request_id === 1 ? /*#__PURE__*/React.createElement(\"img\", {\n        width: \"33\",\n        src: IconRefresh,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 98\n        }\n      }) : app.preapproval.status === 0 ? /*#__PURE__*/React.createElement(\"img\", {\n        src: IconPreapprovalWaiting,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 49\n        }\n      }) : app.preapproval.status === 2 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: IconPreapprovalDeclined,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 53\n        }\n      })) : /*#__PURE__*/React.createElement(Button, {\n        className: \"green-primary-btn\",\n        onClick: () => {\n          this.handleGenerateOrderClick(app, app.preapproval.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 49\n        }\n      }, \" GENERATE ORDER \"), /*#__PURE__*/React.createElement(TrashContainer, {\n        onClick: () => this.deletePreApprovals(app.preapproval.id),\n        width: \"33px\",\n        imageHeight: \"21px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: IconTrash,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 53\n        }\n      })))));\n    }), !customersData.loading && apps && apps.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"request-row dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex justify-content-center align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 37\n      }\n    }, \"No List Found\"))))), this.renderSideBar());\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  apps: state.customers.preAprrovalCustomer,\n  customersData: state.customers\n});\n\nexport default connect(mapStateToProps, {\n  getPreApprovalCustomers,\n  getAppDetailById,\n  changeCustomer,\n  addProduct,\n  changeProduct,\n  changeApplicationStatus\n})(DealerPreApprovals);","map":{"version":3,"sources":["/home/freedom/Music/tcp2.0-frontend/src/screens/Dealer/DealerPreApprovals.js"],"names":["React","Component","connect","Form","Row","Col","Button","Modal","moment","setApplianceFlag","capitalize","Header","HeaderLeft","HeaderCenter","HeaderRight","Footer","changeCustomer","addProduct","changeProduct","IconPreapprovalWaiting","IconPreapprovalDeclined","IconSortInActive","IconSortActive","IconSearchInActive","IconSearchActive","IconFilterActive","IconFilterInActive","IconArrowLeft","IconTrash","getAppDetailById","changeApplicationStatus","getPreApprovalCustomers","Loader","TrashContainer","ListPreapprovalType","DealerPreApprovals","sidebarRef","createRef","state","sortClicked","searchClicked","filterClicked","sidebarOpen","sortBy","filterStatus","filterPerson","filterCategory","searchVal","deleteId","backModal","handleArrowBack","props","history","goBack","handleGenerateOrderClick","customer","id","product_type","preapproval","co_enabled","co_customer","order_type","type","preapproval_id","existing_customer_id","cif_number","main_app","name","email","dobY","dobM","dobD","ssn","dl","nod","cell_phone","home_phone","street","city","zip","yt1","own_or_rent","present_employer","yt2","job_title","employer_phone","monthly_income","additional_income","source","landlord_holder","monthly_rent_payment","co_app","replace","push","handleSortClick","setState","handleFilterClick","handleSearchClick","handleSearchRowClick","cifno","handleSideBarApply","handleSideBarClear","renderSideBarOptions","names","apps","map","app","e","target","value","filter","index","indexOf","renderSideBar","handleAppClick","appId","deletePreApprovals","preApprovalItemId","handleBackModalClose","handleBackModalYes","pageStatus","match","params","status","componentDidMount","componentWillUnmount","render","customersData","toLowerCase","includes","toString","products","find","product","undefined","sort","a","b","Date","updated_at","format","loading","createdAt","created_at","updatedAt","earliestDate","earliest_delivery_date","preapprovalRequestMSG","message","messageSplit","split","appliance","pre_approvals_request_id","IconRefresh","length","mapStateToProps","customers","preAprrovalCustomer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Row, Col, Button, Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport { setApplianceFlag, capitalize } from 'utils/helper';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from '../../components/Dealer/Header';\nimport Footer from '../../components/Dealer/Footer';\nimport { changeCustomer, addProduct, changeProduct } from '../../redux/actions/customer';\nimport { IconPreapprovalWaiting, IconPreapprovalDeclined, IconSortInActive, IconSortActive, IconSearchInActive, IconSearchActive, IconFilterActive, IconFilterInActive, IconArrowLeft, IconTrash } from '../../assets/images';\nimport { getAppDetailById, changeApplicationStatus } from '../../redux/actions/sales';\nimport { getPreApprovalCustomers } from '../../redux/actions/customers';\nimport Loader from 'shared/Loader';\nimport IconRefresh from 'assets/images/icons8-refresh.svg';\nimport { TrashContainer } from './style';\nimport ListPreapprovalType from './listPreapprovalType';\nclass DealerPreApprovals extends Component {\n\n    sidebarRef = React.createRef();\n\n    state = {\n        sortClicked: false,\n        searchClicked: false,\n        filterClicked: false,\n\n        sidebarOpen: \"\",\n\n        sortBy: \"date-new\",\n        filterStatus: \"all\",\n        filterPerson: \"all\",\n        filterCategory: \"all\",\n\n        searchVal: \"\",\n        deleteId: '',\n        backModal: false\n    }\n\n    componentDidMount() {\n        this.props.getPreApprovalCustomers();\n        // document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        // document.removeEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    // handleClickOutside = (event) => {\n    //     if (this.sidebarRef && this.sidebarRef.current && !this.sidebarRef.current.contains(event.target)) {\n    //         this.setState({ sidebarOpen: \"\" });\n    //     }\n    // }\n\n    handleArrowBack = () => {\n        this.props.history.goBack();\n    }\n\n    handleGenerateOrderClick = (customer, id) => {\n        const { product_type } = customer.preapproval;\n        const { changeProduct } = this.props;\n        const co_enabled = customer.co_customer.id ? true : false;\n        this.props.changeCustomer({\n            order_type: 2,\n            co_enabled: co_enabled,\n            type: 'preorder',\n            preapproval_id: id,\n            existing_customer_id: customer.cif_number,\n            main_app: {\n                name: customer.name,\n                email: customer.email,\n                dobY: customer.dobY,\n                dobM: customer.dobM,\n                dobD: customer.dobD,\n                ssn: customer.ssn,\n                dl: customer.dl,\n                nod: customer.nod,\n                cell_phone: customer.cell_phone,\n                home_phone: customer.home_phone,\n                street: customer.street,\n                city: customer.city,\n                state: customer.state,\n                zip: customer.zip,\n                yt1: customer.yt1,\n                own_or_rent: customer.own_or_rent,\n                present_employer: customer.present_employer,\n                yt2: customer.yt2,\n                job_title: customer.job_title,\n                employer_phone: customer.employer_phone,\n                monthly_income: customer.monthly_income,\n                additional_income: customer.additional_income,\n                source: customer.source,\n                landlord_holder: customer.landlord_holder,\n                monthly_rent_payment: customer.monthly_rent_payment\n            },\n            co_app: {\n                name: co_enabled ? customer.co_customer.name : \"\",\n                email: co_enabled ? customer.co_customer.email : \"\",\n                dobY: co_enabled ? customer.co_customer.dobY : \"\",\n                dobM: co_enabled ? customer.co_customer.dobM : \"\",\n                dobD: co_enabled ? customer.co_customer.dobD : \"\",\n                ssn: co_enabled ? customer.co_customer.ssn : \"\",\n                dl: co_enabled ? customer.co_customer.dl : \"\",\n                nod: co_enabled ? customer.co_customer.nod : \"\",\n                cell_phone: co_enabled ? customer.co_customer.cell_phone : \"\",\n                home_phone: co_enabled ? customer.co_customer.home_phone : \"\",\n                street: co_enabled ? customer.co_customer.street : \"\",\n                city: co_enabled ? customer.co_customer.city : \"\",\n                state: co_enabled ? customer.co_customer.state : \"\",\n                zip: co_enabled ? customer.co_customer.zip : \"\",\n                yt1: co_enabled ? customer.co_customer.yt1 : \"\",\n                own_or_rent: co_enabled ? customer.co_customer.own_or_rent : \"\",\n                present_employer: co_enabled ? customer.co_customer.present_employer : \"\",\n                yt2: co_enabled ? customer.co_customer.yt2 : \"\",\n                job_title: co_enabled ? customer.co_customer.job_title : \"\",\n                employer_phone: co_enabled ? customer.co_customer.employer_phone : \"\",\n                monthly_income: co_enabled ? customer.co_customer.monthly_income : \"\",\n                additional_income: co_enabled ? customer.co_customer.additional_income : \"\",\n                source: co_enabled ? customer.co_customer.source : \"\",\n                landlord_holder: co_enabled ? customer.co_customer.landlord_holder : \"\",\n                monthly_rent_payment: co_enabled ? customer.co_customer.monthly_rent_payment : \"\"\n            },\n        });\n        this.props.addProduct();\n        changeProduct(0, { product_type: (product_type.replace(/ +/g, \"\") === 'appliance' || product_type.replace(/ +/g, \"\") === 'food,appliance') ? 'FSP' : 'FOOD' })\n        this.props.history.push('/product/0');\n    }\n\n\n    handleSortClick = () => {\n        this.setState({ sidebarOpen: \"sort\" });\n    }\n\n    handleFilterClick = () => {\n        this.setState({ sidebarOpen: \"filter\" });\n    }\n\n    handleSearchClick = () => {\n        this.setState({ searchClicked: !this.state.searchClicked });\n    }\n\n    handleSearchRowClick = (cifno, type) => {\n        this.props.history.push(`/customer/${cifno}/${type || 'food'}`);\n    }\n\n    handleSideBarApply = () => {\n        const { sidebarOpen } = this.state;\n        if (sidebarOpen === \"sort\") {\n            this.setState({ sidebarOpen: \"\", sortClicked: true });\n        } else if (sidebarOpen === \"search\") {\n            this.setState({ sidebarOpen: \"\", searchClicked: true });\n        } else if (sidebarOpen === \"filter\") {\n            this.setState({ sidebarOpen: \"\", filterClicked: true });\n        }\n    }\n\n    handleSideBarClear = () => {\n        const { sidebarOpen } = this.state;\n        if (sidebarOpen === \"sort\") {\n            this.setState({ sidebarOpen: \"\", sortClicked: false, sortBy: \"date-new\" });\n        } else if (sidebarOpen === \"search\") {\n            this.setState({ sidebarOpen: \"\", searchClicked: false });\n        } else if (sidebarOpen === \"filter\") {\n            this.setState({ sidebarOpen: \"\", filterClicked: false, filterStatus: \"all\", filterPerson: \"all\", filterCategory: \"all\" });\n        }\n    }\n\n    renderSideBarOptions = () => {\n        const { sidebarOpen, sortBy, filterStatus, filterPerson } = this.state;\n\n        const names = this.props.apps.map(app => app.name);\n\n        if (sidebarOpen === \"sort\") {\n            return (\n                <Form.Control\n                    as=\"select\"\n                    value={sortBy}\n                    onChange={(e) => {\n                        this.setState({ sortBy: e.target.value })\n                        this.setState({\n                            sortClicked: true,\n                        })  \n                    } }\n                >\n                    <option value=\"date-new\">Date: newest</option>\n                    <option value=\"date-old\">Date: oldest</option>\n                    <option value=\"name-ascending\">Name: A-Z</option>\n                    <option value=\"date-descending\">Name: Z-A</option>\n                </Form.Control>\n            )   \n        }\n\n        if (sidebarOpen === \"filter\") {\n            return (\n                <>\n                    <Form.Control\n                        as=\"select\"\n                        value={filterStatus}\n                        onChange={(e) => {\n                            this.setState({\n                                filterClicked: true,\n                            })    \n                            this.setState({ filterStatus: e.target.value })\n                        } }\n                    >\n                        <option value=\"all\">Status</option>\n                        <option value=\"1\">Approved</option>\n                        <option value=\"2\">Declined</option>\n                        <option value=\"0\">Waiting</option>\n                    </Form.Control>\n\n                    <Form.Control\n                        as=\"select\"\n                        value={filterPerson}\n                        onChange={(e) => {\n                            this.setState({ filterPerson: e.target.value })\n                            this.setState({\n                                filterClicked: true,\n                            })\n                        } }\n                    >\n                        <option key=\"all\" value=\"all\">Customer Name</option>\n                        { names.filter((name, index) => names.indexOf(name) === index).map(name => (\n                            <option key={name} value={name}>{name}</option>\n                        )) }\n                    </Form.Control>\n                </>\n            )\n        }\n\n    }\n\n    renderSideBar = () => {\n        const { sidebarOpen } = this.state;\n\n        if (sidebarOpen === \"\") {\n            return null;\n        }\n\n        return (\n            <div ref={this.sidebarRef}>\n                <div  className=\"sidebar\">\n                    { this.renderSideBarOptions() }\n                </div>\n                <Footer>\n                    <Row>\n                        <Col xs={6}>\n                            <Button onClick={this.handleSideBarApply}>Close</Button>\n                        </Col>\n                        <Col xs={6}>\n                            <Button onClick={this.handleSideBarClear}>CLEAR</Button>\n                        </Col>\n                    </Row>\n                </Footer>\n            </div>\n        )\n    }\n\n    handleAppClick = (appId) => {\n        this.props.getAppDetailById(appId);\n        this.props.history.push(`/app-details/${appId}`);\n    }\n\n    deletePreApprovals = (preApprovalItemId) => {\n        this.setState({\n            deleteId: preApprovalItemId,\n            backModal: true\n        })\n       \n\n    }\n\n    handleBackModalClose = () => {\n        this.setState({ backModal: false });\n    }\n\n    handleBackModalYes = () => {\n        const { changeApplicationStatus, getPreApprovalCustomers } = this.props;\n        const pageStatus = this.props.match.params.status;\n        const { deleteId } = this.state;\n        this.setState({ backModal: false });\n        changeApplicationStatus({\n            getPreApprovalCustomers: getPreApprovalCustomers,\n            pageStatus: pageStatus,\n            id: deleteId,\n            type: 'pre-approval',\n        })\n    }\n\n    render() {\n        const { sortClicked, searchClicked, filterClicked, searchVal } = this.state;\n        const { customersData } = this.props;\n        let apps = this.props.apps;\n\n        if (searchClicked && searchVal !== '') {\n            apps = apps.filter(app => app.name.toLowerCase().includes(searchVal.toLowerCase())) \n        }\n        if (filterClicked) {\n            const { filterStatus, filterPerson, filterCategory } = this.state;\n            if (filterStatus !== \"all\") {\n                apps = apps.filter(app => app.preapproval.status.toString() === filterStatus);\n            }\n            if (filterPerson !== \"all\") {\n                apps = apps.filter(app => app.name === filterPerson);\n            }\n            if (filterCategory !== \"all\") {\n                apps = apps.filter(app => app.products.find(product => product.type.toLowerCase() === filterCategory.toLowerCase()) !== undefined)\n            }\n        }\n        \n        if (sortClicked) {\n            const { sortBy } = this.state;\n            if (sortBy === \"name-ascending\") {\n                apps = apps.sort((a, b) => a.name > b.name ? 1 : -1)\n            }\n            else if (sortBy === \"date-descending\") {\n                apps = apps.sort((a, b) => a.name < b.name ? 1 : -1)\n            }\n            else if (sortBy === \"date-new\") {\n                apps = apps.sort((a, b) => moment(new Date(b.preapproval.updated_at)).format(\"X\") - moment(new Date(a.preapproval.updated_at)).format(\"X\"))\n            }\n            else if (sortBy === \"date-old\") {\n                apps = apps.sort((a, b) => moment(new Date(a.preapproval.updated_at)).format(\"X\") - moment(new Date(b.preapproval.updated_at)).format(\"X\"))\n            }\n        }  \n\n        return (\n            <div className=\"dealer\">\n                { customersData.loading && <Loader /> }\n                <Modal show={this.state.backModal} onHide={this.handleBackModalClose}>\n                    <Modal.Header closeButton></Modal.Header>\n                    <Modal.Body>\n                        <p>Are you sure you want to delete this item from the system? You will not be able to access this record again.</p>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleBackModalClose}>\n                            No\n                        </Button>\n                        <Button variant=\"primary\" onClick={this.handleBackModalYes}>\n                            Yes\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n                <Header>\n                    <HeaderLeft>\n                        <img src={IconArrowLeft} onClick={this.handleArrowBack} alt=\"\" />\n                        <img src={sortClicked ? IconSortActive : IconSortInActive} onClick={this.handleSortClick} alt=\"\"/>\n                    </HeaderLeft>\n                    <HeaderCenter>\n                        <span>PREAPPROVAL REQUEST</span>\n                    </HeaderCenter>\n                    <HeaderRight>\n                        <img src={searchClicked ? IconSearchActive : IconSearchInActive} onClick={this.handleSearchClick} alt=\"\"/>\n                        <img src={filterClicked ? IconFilterActive : IconFilterInActive} onClick={this.handleFilterClick} alt=\"\"/>\n                    </HeaderRight>\n                </Header>\n                <div className=\"preapproval-main\">\n                    { searchClicked && (\n                        <div className=\"dealer-list-search\">\n                            <Form.Control\n                                placeholder=\"Search\"\n                                value={this.state.searchVal}\n                                onChange={(e) => this.setState({ searchVal: e.target.value })}\n                            />\n                        </div>\n                    ) }\n                    <div className=\"dealer-list\">\n                        { apps?.map((app, index) => {\n                            let createdAt = \"\";\n                            if(app.preapproval && app.preapproval.created_at) {\n                                createdAt = moment(app.preapproval.created_at, 'YYYY/MM/DD').format('MM/DD/YYYY');\n                            }\n                            let updatedAt = \"\";\n                            if(app.preapproval && app.preapproval.updated_at) {\n                                updatedAt = moment(app.preapproval.updated_at, 'YYYY/MM/DD').format('MM/DD/YYYY');\n                            }\n                            let earliestDate = \"\";\n                            if(app.preapproval && app.preapproval.earliest_delivery_date) {\n                                earliestDate = moment(app.preapproval.earliest_delivery_date, 'YYYY/MM/DD').format('MM/DD/YYYY');\n                            }\n                            const preapprovalRequestMSG = \n                            (app.preapproval && \n                            app.preapproval && \n                            app.preapproval.message);\n                            const messageSplit = preapprovalRequestMSG && preapprovalRequestMSG.split('#');\n                            return(\n                                <div className={`request-row ${index%2 === 0 && \"dark\"}`} key={ index }>\n                                    <Row>\n                                        <Col xs={6} md={4} className=\"data\" onClick={() => {this.handleSearchRowClick(app.id, app.preapproval.product_type)}}>\n                                            <div className=\"title\">{ app.name }{\n                                            app.co_customer && \n                                            app.co_customer.name &&\n                                            <span>{` and ${app.co_customer.name}`}</span>}</div>\n                                            <div className=\"sub-title\">{ app.street } { app.city } <br/> { app.zip } { app.state }</div>\n                                        </Col>\n                                        <Col xs={3} md={4} className=\"data text-center\" onClick={() => {this.handleSearchRowClick(app.id, app.preapproval.product_type)}}>\n                                            {\n                                                app.preapproval.status !== 0 &&\n                                                <ListPreapprovalType \n                                                    item={ app.preapproval.product_type } \n                                                    messageSplit={ messageSplit }\n                                                    status={ app.preapproval.status } />\n                                            }\n                                            {\n                                                app.preapproval.status === 1 && setApplianceFlag(app.preapproval.product_type) !== 'Food' &&\n                                                <div className=\"date\"> \n                                                    { capitalize(app.preapproval.appliance) } \n                                                </div>\n                                            }\n                                            {\n                                                earliestDate ? \n                                                (<div className=\"date\">\n                                                    Earliest delivery date: { earliestDate || \"\" }\n                                                </div>) : ( <><div className=\"date\">Request: { createdAt }</div>\n                                                {\n                                                   updatedAt !== \"\" &&  <div className=\"date\">Last Update: { updatedAt || \"\" }</div>\n                                                } </>\n                                                )\n                                            }\n                                           \n                                            \n                                            {/* <div className=\"date\">Product: { setApplianceFlag(app.preapproval.product_type)}</div>                                         */}\n                                        </Col>\n                                        <Col xs={3} md={4} className=\"data text-center d-flex justify-content-center\">\n                                            {\n                                                app.preapproval.pre_approvals_request_id === 1 ? <img width=\"33\" src={IconRefresh} alt=\"\"/> : app.preapproval.status === 0 ? \n                                                <img src={IconPreapprovalWaiting} alt=\"\"/> : app.preapproval.status === 2 ? \n                                                <div className=\"\">\n                                                    <img src={IconPreapprovalDeclined} alt=\"\"/>\n                                                </div> : \n                                                <Button className=\"green-primary-btn\" onClick={() => {this.handleGenerateOrderClick(app, app.preapproval.id)}}> GENERATE ORDER </Button> }\n                                                <TrashContainer onClick={() => this.deletePreApprovals(app.preapproval.id)} width=\"33px\" imageHeight=\"21px\">\n                                                    <img src={IconTrash} alt=\"\" />\n                                                </TrashContainer>\n                                        </Col>\n                                    </Row>\n                                </div>\n                                )\n                            }\n                        )}\n                        {\n                            !customersData.loading && apps && apps.length === 0 &&\n                            <div className=\"request-row dark\">\n                                <Row className=\"d-flex justify-content-center align-items-center\">\n                                    <div>No List Found</div>\n                                </Row>\n                            </div>\n                        }\n                    </div>\n                </div>\n\n                { this.renderSideBar() }              \n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    apps: state.customers.preAprrovalCustomer,\n    customersData: state.customers,\n});\n\nexport default connect(\n    mapStateToProps,\n    {\n        getPreApprovalCustomers,\n        getAppDetailById,\n        changeCustomer,\n        addProduct,\n        changeProduct,\n        changeApplicationStatus\n    }\n)(DealerPreApprovals);"]},"metadata":{},"sourceType":"module"}