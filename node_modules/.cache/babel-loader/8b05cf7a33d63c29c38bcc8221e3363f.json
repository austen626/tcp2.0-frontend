{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp-frontend/src/screens/Auth/ForgotPassword.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form } from 'react-bootstrap';\nimport InputMask from 'react-input-mask';\nimport { forgotPassword } from '../../redux/actions/auth';\nimport AuthContainer from '../../components/AuthContainer';\n\nclass ForgotPassword extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      mobile: '',\n      validated: false,\n      error: ''\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        validated: true\n      });\n      const form = event.currentTarget;\n\n      if (form.checkValidity() === false) {\n        event.stopPropagation();\n      } else {\n        this.onConfirm();\n      }\n    };\n\n    this.onConfirm = async () => {\n      const {\n        email,\n        mobile\n      } = this.state;\n      const result = await this.props.forgotPassword({\n        email,\n        phone: mobile\n      });\n\n      if (result.ok) {\n        this.props.history.push({\n          pathname: `/2fa`,\n          search: `?email=${email}&mobile=${mobile}`,\n          state: { ...result.data,\n            screen: 'forgot'\n          }\n        });\n      } else {\n        this.setState({\n          error: result.error\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      email,\n      mobile,\n      validated,\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(AuthContainer, {\n      title: \"RESET YOUR PASSWORD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      noValidate: true,\n      validated: validated,\n      onSubmit: this.handleSubmit,\n      className: \"wrapper forgot-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      pattern: \"^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$\",\n      className: \"input input-email\",\n      value: email,\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      isInvalid: this.state.invalidEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, \"Registered Mobile Number\"), /*#__PURE__*/React.createElement(InputMask, {\n      required: true,\n      pattern: \"[0-9]{3}-[0-9]{3}-[0-9]{4}\",\n      className: \"input input-mobile form-control\",\n      mask: \"999-999-9999\",\n      maskChar: \"\",\n      value: mobile,\n      onChange: e => this.setState({\n        mobile: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, error)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button-action\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \"CONFIRM\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-actions text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, \"Back to \\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cursor-pointer goBack\",\n      onClick: () => this.props.history.replace('login'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, \"Sign In\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({});\n\nexport default connect(mapStateToProps, {\n  forgotPassword\n})(ForgotPassword);","map":{"version":3,"sources":["/home/freedom/Music/tcp-frontend/src/screens/Auth/ForgotPassword.js"],"names":["React","Component","connect","Button","Form","InputMask","forgotPassword","AuthContainer","ForgotPassword","state","email","mobile","validated","error","handleSubmit","event","preventDefault","setState","form","currentTarget","checkValidity","stopPropagation","onConfirm","result","props","phone","ok","history","push","pathname","search","data","screen","render","e","target","value","invalidEmail","replace","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form } from 'react-bootstrap';\nimport InputMask from 'react-input-mask';\nimport { forgotPassword } from '../../redux/actions/auth';\n\nimport AuthContainer from '../../components/AuthContainer';\n\nclass ForgotPassword extends Component {\n    state = {\n        email: '',\n        mobile: '',\n        validated: false,\n        error: ''\n    };\n\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        this.setState({ validated: true });\n\n        const form = event.currentTarget;\n        if (form.checkValidity() === false) {\n            event.stopPropagation();\n        } else {\n            this.onConfirm();\n        }\n    }\n\n    onConfirm = async () => {\n        const { email, mobile } = this.state;\n        const result = await this.props.forgotPassword({\n            email,\n            phone: mobile\n        });\n\n        if (result.ok) {\n            this.props.history.push({\n                pathname: `/2fa`,\n                search: `?email=${email}&mobile=${mobile}`,\n                state: {\n                    ...result.data,\n                    screen: 'forgot'\n                }\n            })\n        } else {\n            this.setState({ error: result.error });\n        }\n    }\n\n    render() {\n        const { email, mobile, validated,  error } = this.state;\n        return (\n            <AuthContainer title=\"RESET YOUR PASSWORD\">\n                <Form noValidate validated={validated} onSubmit={this.handleSubmit} className=\"wrapper forgot-page\">\n                    <div className=\"inputs\">\n                        <Form.Group>\n                            <Form.Label>Email</Form.Label>\n                            <Form.Control\n                                required\n                                pattern=\"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$\"\n                                className=\"input input-email\"\n                                value={email}\n                                onChange={e => this.setState({ email: e.target.value }) }\n                                isInvalid={this.state.invalidEmail}\n                            />\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Registered Mobile Number</Form.Label>\n                            <InputMask\n                                required\n                                pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\n                                className=\"input input-mobile form-control\"\n                                mask=\"999-999-9999\"\n                                maskChar=\"\"\n                                value={mobile}\n                                onChange={e => this.setState({ mobile: e.target.value })}\n                            />\n                        </Form.Group>\n                        <div className=\"error\">\n                            { error }\n                        </div>\n                    </div>\n                    <div>\n                        <Button className=\"button-action\" type=\"submit\">CONFIRM</Button>\n                    </div>\n                    <div className=\"auth-actions text-center\">\n                        <p>Back to &nbsp;\n                        <span className=\"cursor-pointer goBack\" onClick={() => this.props.history.replace('login')}>\n                            Sign In\n                        </span></p>\n                    </div>                    \n                </Form>\n            </AuthContainer>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n\n});\n\nexport default connect(\n    mapStateToProps,\n    {\n        forgotPassword\n    }\n)(ForgotPassword);"]},"metadata":{},"sourceType":"module"}