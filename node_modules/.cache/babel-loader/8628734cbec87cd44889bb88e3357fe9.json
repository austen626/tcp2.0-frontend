{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp-frontend/src/screens/Dealer/DealerPreApprovals.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from '../../components/Dealer/Header';\nimport Footer from '../../components/Dealer/Footer';\nimport { IconStatusWaiting, IconStatusConfirmed, IconHome, IconPreapprovalWaiting, IconPreapprovalDeclined, IconSortInActive, IconSortActive, IconSearchInActive, IconSearchActive, IconFilterActive, IconFilterInActive } from '../../assets/images';\nimport { getSalesList, getAppDetailById } from '../../redux/actions/sales';\nimport { getPreApprovalCustomers } from '../../redux/actions/customers';\n\nclass DealerPreApprovals extends Component {\n  constructor(...args) {\n    super(...args);\n    this.sidebarRef = React.createRef();\n    this.state = {\n      sortClicked: false,\n      searchClicked: false,\n      filterClicked: false,\n      sidebarOpen: \"\",\n      sortBy: \"date-new\",\n      filterStatus: \"all\",\n      filterPerson: \"all\",\n      filterCategory: \"all\",\n      searchVal: \"\"\n    };\n\n    this.handleGenerateOrderClick = customer => {\n      this.props.changeCustomer({\n        order_type: 2,\n        main_app: {\n          name: customer.name,\n          email: customer.email,\n          dobY: customer.dobY,\n          dobM: customer.dobM,\n          dobD: customer.dobD,\n          ssn: customer.ssn,\n          dl: customer.dl,\n          nod: customer.nod,\n          cell_phone: customer.cell_phone,\n          home_phone: customer.home_phone,\n          street: customer.street,\n          city: customer.city,\n          state: customer.state,\n          zip: customer.zip,\n          yt1: \"\",\n          own_or_rent: \"\",\n          present_employer: \"\",\n          yt2: \"\",\n          job_title: \"\",\n          employer_phone: \"\",\n          monthly_income: \"\",\n          additional_income: \"\",\n          source: \"\",\n          landlord_holder: \"\",\n          monthly_rent_payment: \"\"\n        }\n      });\n      this.props.history.push('/contact');\n    };\n\n    this.handleArrowBack = () => {\n      this.props.history.goBack();\n    };\n\n    this.handleSortClick = () => {\n      this.setState({\n        sidebarOpen: \"sort\"\n      });\n    };\n\n    this.handleFilterClick = () => {\n      this.setState({\n        sidebarOpen: \"filter\"\n      });\n    };\n\n    this.handleSearchClick = () => {\n      this.setState({\n        searchClicked: !this.state.searchClicked\n      });\n    };\n\n    this.handleSearchRowClick = cifno => {\n      this.props.history.push(`/customer/${cifno}`);\n    };\n\n    this.handleSideBarApply = () => {\n      const {\n        sidebarOpen\n      } = this.state;\n\n      if (sidebarOpen === \"sort\") {\n        this.setState({\n          sidebarOpen: \"\",\n          sortClicked: true\n        });\n      } else if (sidebarOpen === \"search\") {\n        this.setState({\n          sidebarOpen: \"\",\n          searchClicked: true\n        });\n      } else if (sidebarOpen === \"filter\") {\n        this.setState({\n          sidebarOpen: \"\",\n          filterClicked: true\n        });\n      }\n    };\n\n    this.handleSideBarClear = () => {\n      const {\n        sidebarOpen\n      } = this.state;\n\n      if (sidebarOpen === \"sort\") {\n        this.setState({\n          sidebarOpen: \"\",\n          sortClicked: false,\n          sortBy: \"date-new\"\n        });\n      } else if (sidebarOpen === \"search\") {\n        this.setState({\n          sidebarOpen: \"\",\n          searchClicked: false\n        });\n      } else if (sidebarOpen === \"filter\") {\n        this.setState({\n          sidebarOpen: \"\",\n          filterClicked: false,\n          filterStatus: \"all\",\n          filterPerson: \"all\",\n          filterCategory: \"all\"\n        });\n      }\n    };\n\n    this.renderSideBarOptions = () => {\n      const {\n        sidebarOpen,\n        sortBy,\n        filterStatus,\n        filterPerson,\n        filterCategory\n      } = this.state;\n      const names = this.props.apps.map(app => app.name);\n\n      if (sidebarOpen === \"sort\") {\n        return /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: sortBy,\n          onChange: e => this.setState({\n            sortBy: e.target.value\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"date-new\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }\n        }, \"Date: newest\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"date-old\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 21\n          }\n        }, \"Date: oldest\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"name-ascending\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }\n        }, \"Name: A-Z\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"date-descending\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }\n        }, \"Name: Z-A\"));\n      }\n\n      if (sidebarOpen === \"filter\") {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: filterStatus,\n          onChange: e => this.setState({\n            filterStatus: e.target.value\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"all\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }\n        }, \"Status\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"approved\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }\n        }, \"Approved\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"waiting\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }\n        }, \"Waiting\")), /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: filterPerson,\n          onChange: e => this.setState({\n            filterPerson: e.target.value\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          key: \"all\",\n          value: \"all\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }\n        }, \"Salesperson Name\"), names.filter((name, index) => names.indexOf(name) === index).map(name => /*#__PURE__*/React.createElement(\"option\", {\n          key: name,\n          value: name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }\n        }, name))), /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"select\",\n          value: filterCategory,\n          onChange: e => this.setState({\n            filterCategory: e.target.value\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"all\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }\n        }, \"Category\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"food\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }\n        }, \"FOOD\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"fsp\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }\n        }, \"FSP\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"app\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }\n        }, \"APP\")));\n      }\n    };\n\n    this.renderSideBar = () => {\n      const {\n        sidebarOpen\n      } = this.state;\n\n      if (sidebarOpen === \"\") {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.sidebarRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sidebar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, this.renderSideBarOptions()), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleSideBarApply,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 29\n        }\n      }, \"APPLY\")), /*#__PURE__*/React.createElement(Col, {\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleSideBarClear,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 29\n        }\n      }, \"CLEAR\")))));\n    };\n\n    this.handleAppClick = appId => {\n      this.props.getAppDetailById(appId);\n      this.props.history.push(`/app-details/${appId}`);\n    };\n  }\n\n  componentDidMount() {\n    this.props.getPreApprovalCustomers(); // document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {// document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  } // handleClickOutside = (event) => {\n  //     if (this.sidebarRef && this.sidebarRef.current && !this.sidebarRef.current.contains(event.target)) {\n  //         this.setState({ sidebarOpen: \"\" });\n  //     }\n  // }\n\n\n  render() {\n    console.log(this.props.apps);\n    const {\n      sortClicked,\n      searchClicked,\n      filterClicked,\n      searchVal\n    } = this.state;\n    let apps = this.props.apps;\n\n    if (searchClicked && searchVal !== '') {\n      apps = apps.filter(app => app.name.toLowerCase().includes(searchVal.toLowerCase()));\n    }\n\n    if (filterClicked) {\n      const {\n        filterStatus,\n        filterPerson,\n        filterCategory\n      } = this.state;\n\n      if (filterStatus !== \"all\") {\n        apps = apps.filter(app => app.status.toLowerCase() === filterStatus);\n      }\n\n      if (filterPerson !== \"all\") {\n        apps = apps.filter(app => app.name === filterPerson);\n      }\n\n      if (filterCategory !== \"all\") {\n        apps = apps.filter(app => app.products.find(product => product.type.toLowerCase() === filterCategory.toLowerCase()) !== undefined);\n      }\n    }\n\n    if (sortClicked) {\n      const {\n        sortBy\n      } = this.state;\n\n      if (sortBy === \"name-ascending\") {\n        apps = apps.sort((a, b) => a.name > b.name ? 1 : -1);\n      } else if (sortBy === \"date-descending\") {\n        apps = apps.sort((a, b) => a.name < b.name ? 1 : -1);\n      } else if (sortBy === \"date-new\") {\n        apps = apps.sort((a, b) => a.created_at > b.created_at ? 1 : -1);\n      } else if (sortBy === \"date-old\") {\n        apps = apps.sort((a, b) => a.created_at < b.created_at ? 1 : -1);\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HeaderLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: IconHome,\n      onClick: this.handleArrowBack,\n      height: \"28\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: sortClicked ? IconSortActive : IconSortInActive,\n      onClick: this.handleSortClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(HeaderCenter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, \"PREAPPROVAL REQUEST\")), /*#__PURE__*/React.createElement(HeaderRight, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: searchClicked ? IconSearchActive : IconSearchInActive,\n      onClick: this.handleSearchClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: filterClicked ? IconFilterActive : IconFilterInActive,\n      onClick: this.handleFilterClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"preapproval-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }\n    }, searchClicked && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer-list-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      placeholder: \"Search\",\n      value: this.state.searchVal,\n      onChange: e => this.setState({\n        searchVal: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, apps.map((app, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: `request-row ${index % 2 === 0 && \"dark\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      onClick: () => {\n        app.preapproval[0].status !== 12121 && this.handleSearchRowClick(app.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      md: 4,\n      className: \"data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 41\n      }\n    }, app.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sub-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 41\n      }\n    }, app.street, \" \", app.city, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 96\n      }\n    }), \" \", app.zip, \" \", app.state)), /*#__PURE__*/React.createElement(Col, {\n      xs: 3,\n      md: 4,\n      className: \"data text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 41\n      }\n    }, \"R: MM/DD/YY\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 41\n      }\n    }, \"A: MM/DD/YY\")), /*#__PURE__*/React.createElement(Col, {\n      xs: 3,\n      md: 4,\n      className: \"data text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 37\n      }\n    }, app.preapproval[0].status === 0 ? /*#__PURE__*/React.createElement(\"img\", {\n      src: IconPreapprovalWaiting,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 45\n      }\n    }) : app.preapproval[0].status === 2 ? /*#__PURE__*/React.createElement(\"img\", {\n      src: IconPreapprovalDeclined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 45\n      }\n    }) : /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleGenerateOrderClick(app),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 45\n      }\n    }, \" GENERATE ORDER \"))))))), this.renderSideBar());\n  }\n\n}\n\n{\n  /* <Row>\n  <Col xs={4}>{ app.name }</Col>\n  <Col xs={4}>\n     { app.products.map(product => (\n         <div key={product.id}>{ product.type }, ${product.balance}</div>\n     )) }\n  </Col>\n  <Col xs={4}>\n     { app.status === 'waiting' ? \n         <img src={IconStatusWaiting} /> :\n         <img src={IconStatusConfirmed} /> }\n  </Col>\n  </Row> */\n}\n\nconst mapStateToProps = state => ({\n  apps: state.customers.preAprrovalCustomer\n});\n\nexport default connect(mapStateToProps, {\n  getPreApprovalCustomers,\n  getAppDetailById,\n  changeCustomer\n})(DealerPreApprovals);","map":{"version":3,"sources":["/home/freedom/Music/tcp-frontend/src/screens/Dealer/DealerPreApprovals.js"],"names":["React","Component","connect","Form","Row","Col","Button","Header","HeaderLeft","HeaderCenter","HeaderRight","Footer","IconStatusWaiting","IconStatusConfirmed","IconHome","IconPreapprovalWaiting","IconPreapprovalDeclined","IconSortInActive","IconSortActive","IconSearchInActive","IconSearchActive","IconFilterActive","IconFilterInActive","getSalesList","getAppDetailById","getPreApprovalCustomers","DealerPreApprovals","sidebarRef","createRef","state","sortClicked","searchClicked","filterClicked","sidebarOpen","sortBy","filterStatus","filterPerson","filterCategory","searchVal","handleGenerateOrderClick","customer","props","changeCustomer","order_type","main_app","name","email","dobY","dobM","dobD","ssn","dl","nod","cell_phone","home_phone","street","city","zip","yt1","own_or_rent","present_employer","yt2","job_title","employer_phone","monthly_income","additional_income","source","landlord_holder","monthly_rent_payment","history","push","handleArrowBack","goBack","handleSortClick","setState","handleFilterClick","handleSearchClick","handleSearchRowClick","cifno","handleSideBarApply","handleSideBarClear","renderSideBarOptions","names","apps","map","app","e","target","value","filter","index","indexOf","renderSideBar","handleAppClick","appId","componentDidMount","componentWillUnmount","render","console","log","toLowerCase","includes","status","products","find","product","type","undefined","sort","a","b","created_at","preapproval","id","mapStateToProps","customers","preAprrovalCustomer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,MAAzB,QAAuC,iBAAvC;AACA,OAAOC,MAAP,IAAiBC,UAAjB,EAA6BC,YAA7B,EAA2CC,WAA3C,QAA8D,gCAA9D;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,EAAiDC,QAAjD,EAA2DC,sBAA3D,EAAmFC,uBAAnF,EAA4GC,gBAA5G,EAA8HC,cAA9H,EAA8IC,kBAA9I,EAAkKC,gBAAlK,EAAoLC,gBAApL,EAAsMC,kBAAtM,QAAgO,qBAAhO;AACA,SAASC,YAAT,EAAuBC,gBAAvB,QAA+C,2BAA/C;AACA,SAASC,uBAAT,QAAwC,+BAAxC;;AAEA,MAAMC,kBAAN,SAAiCzB,SAAjC,CAA2C;AAAA;AAAA;AAAA,SAEvC0B,UAFuC,GAE1B3B,KAAK,CAAC4B,SAAN,EAF0B;AAAA,SAIvCC,KAJuC,GAI/B;AACJC,MAAAA,WAAW,EAAE,KADT;AAEJC,MAAAA,aAAa,EAAE,KAFX;AAGJC,MAAAA,aAAa,EAAE,KAHX;AAKJC,MAAAA,WAAW,EAAE,EALT;AAOJC,MAAAA,MAAM,EAAE,UAPJ;AAQJC,MAAAA,YAAY,EAAE,KARV;AASJC,MAAAA,YAAY,EAAE,KATV;AAUJC,MAAAA,cAAc,EAAE,KAVZ;AAYJC,MAAAA,SAAS,EAAE;AAZP,KAJ+B;;AAAA,SAkCvCC,wBAlCuC,GAkCXC,QAAD,IAAc;AACrC,WAAKC,KAAL,CAAWC,cAAX,CAA0B;AACtBC,QAAAA,UAAU,EAAE,CADU;AAEtBC,QAAAA,QAAQ,EAAE;AACNC,UAAAA,IAAI,EAAEL,QAAQ,CAACK,IADT;AAENC,UAAAA,KAAK,EAAEN,QAAQ,CAACM,KAFV;AAGNC,UAAAA,IAAI,EAAEP,QAAQ,CAACO,IAHT;AAINC,UAAAA,IAAI,EAAER,QAAQ,CAACQ,IAJT;AAKNC,UAAAA,IAAI,EAAET,QAAQ,CAACS,IALT;AAMNC,UAAAA,GAAG,EAAEV,QAAQ,CAACU,GANR;AAONC,UAAAA,EAAE,EAAEX,QAAQ,CAACW,EAPP;AAQNC,UAAAA,GAAG,EAAEZ,QAAQ,CAACY,GARR;AASNC,UAAAA,UAAU,EAAEb,QAAQ,CAACa,UATf;AAUNC,UAAAA,UAAU,EAAEd,QAAQ,CAACc,UAVf;AAWNC,UAAAA,MAAM,EAAEf,QAAQ,CAACe,MAXX;AAYNC,UAAAA,IAAI,EAAEhB,QAAQ,CAACgB,IAZT;AAaN3B,UAAAA,KAAK,EAAEW,QAAQ,CAACX,KAbV;AAcN4B,UAAAA,GAAG,EAAEjB,QAAQ,CAACiB,GAdR;AAeNC,UAAAA,GAAG,EAAE,EAfC;AAgBNC,UAAAA,WAAW,EAAE,EAhBP;AAiBNC,UAAAA,gBAAgB,EAAE,EAjBZ;AAkBNC,UAAAA,GAAG,EAAE,EAlBC;AAmBNC,UAAAA,SAAS,EAAE,EAnBL;AAoBNC,UAAAA,cAAc,EAAE,EApBV;AAqBNC,UAAAA,cAAc,EAAE,EArBV;AAsBNC,UAAAA,iBAAiB,EAAE,EAtBb;AAuBNC,UAAAA,MAAM,EAAE,EAvBF;AAwBNC,UAAAA,eAAe,EAAE,EAxBX;AAyBNC,UAAAA,oBAAoB,EAAE;AAzBhB;AAFY,OAA1B;AA8BA,WAAK3B,KAAL,CAAW4B,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH,KAlEsC;;AAAA,SAoEvCC,eApEuC,GAoErB,MAAM;AACpB,WAAK9B,KAAL,CAAW4B,OAAX,CAAmBG,MAAnB;AACH,KAtEsC;;AAAA,SAwEvCC,eAxEuC,GAwErB,MAAM;AACpB,WAAKC,QAAL,CAAc;AAAEzC,QAAAA,WAAW,EAAE;AAAf,OAAd;AACH,KA1EsC;;AAAA,SA4EvC0C,iBA5EuC,GA4EnB,MAAM;AACtB,WAAKD,QAAL,CAAc;AAAEzC,QAAAA,WAAW,EAAE;AAAf,OAAd;AACH,KA9EsC;;AAAA,SAgFvC2C,iBAhFuC,GAgFnB,MAAM;AACtB,WAAKF,QAAL,CAAc;AAAE3C,QAAAA,aAAa,EAAE,CAAC,KAAKF,KAAL,CAAWE;AAA7B,OAAd;AACH,KAlFsC;;AAAA,SAoFvC8C,oBApFuC,GAoFfC,KAAD,IAAW;AAC9B,WAAKrC,KAAL,CAAW4B,OAAX,CAAmBC,IAAnB,CAAyB,aAAYQ,KAAM,EAA3C;AACH,KAtFsC;;AAAA,SAwFvCC,kBAxFuC,GAwFlB,MAAM;AACvB,YAAM;AAAE9C,QAAAA;AAAF,UAAkB,KAAKJ,KAA7B;;AACA,UAAII,WAAW,KAAK,MAApB,EAA4B;AACxB,aAAKyC,QAAL,CAAc;AAAEzC,UAAAA,WAAW,EAAE,EAAf;AAAmBH,UAAAA,WAAW,EAAE;AAAhC,SAAd;AACH,OAFD,MAEO,IAAIG,WAAW,KAAK,QAApB,EAA8B;AACjC,aAAKyC,QAAL,CAAc;AAAEzC,UAAAA,WAAW,EAAE,EAAf;AAAmBF,UAAAA,aAAa,EAAE;AAAlC,SAAd;AACH,OAFM,MAEA,IAAIE,WAAW,KAAK,QAApB,EAA8B;AACjC,aAAKyC,QAAL,CAAc;AAAEzC,UAAAA,WAAW,EAAE,EAAf;AAAmBD,UAAAA,aAAa,EAAE;AAAlC,SAAd;AACH;AACJ,KAjGsC;;AAAA,SAmGvCgD,kBAnGuC,GAmGlB,MAAM;AACvB,YAAM;AAAE/C,QAAAA;AAAF,UAAkB,KAAKJ,KAA7B;;AACA,UAAII,WAAW,KAAK,MAApB,EAA4B;AACxB,aAAKyC,QAAL,CAAc;AAAEzC,UAAAA,WAAW,EAAE,EAAf;AAAmBH,UAAAA,WAAW,EAAE,KAAhC;AAAuCI,UAAAA,MAAM,EAAE;AAA/C,SAAd;AACH,OAFD,MAEO,IAAID,WAAW,KAAK,QAApB,EAA8B;AACjC,aAAKyC,QAAL,CAAc;AAAEzC,UAAAA,WAAW,EAAE,EAAf;AAAmBF,UAAAA,aAAa,EAAE;AAAlC,SAAd;AACH,OAFM,MAEA,IAAIE,WAAW,KAAK,QAApB,EAA8B;AACjC,aAAKyC,QAAL,CAAc;AAAEzC,UAAAA,WAAW,EAAE,EAAf;AAAmBD,UAAAA,aAAa,EAAE,KAAlC;AAAyCG,UAAAA,YAAY,EAAE,KAAvD;AAA8DC,UAAAA,YAAY,EAAE,KAA5E;AAAmFC,UAAAA,cAAc,EAAE;AAAnG,SAAd;AACH;AACJ,KA5GsC;;AAAA,SA8GvC4C,oBA9GuC,GA8GhB,MAAM;AACzB,YAAM;AAAEhD,QAAAA,WAAF;AAAeC,QAAAA,MAAf;AAAuBC,QAAAA,YAAvB;AAAqCC,QAAAA,YAArC;AAAmDC,QAAAA;AAAnD,UAAsE,KAAKR,KAAjF;AAEA,YAAMqD,KAAK,GAAG,KAAKzC,KAAL,CAAW0C,IAAX,CAAgBC,GAAhB,CAAoBC,GAAG,IAAIA,GAAG,CAACxC,IAA/B,CAAd;;AAEA,UAAIZ,WAAW,KAAK,MAApB,EAA4B;AACxB,4BACI,oBAAC,IAAD,CAAM,OAAN;AACI,UAAA,EAAE,EAAC,QADP;AAEI,UAAA,KAAK,EAAEC,MAFX;AAGI,UAAA,QAAQ,EAAGoD,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAExC,YAAAA,MAAM,EAAEoD,CAAC,CAACC,MAAF,CAASC;AAAnB,WAAd,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKI;AAAQ,UAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BALJ,eAMI;AAAQ,UAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ,eAOI;AAAQ,UAAA,KAAK,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAPJ,eAQI;AAAQ,UAAA,KAAK,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBARJ,CADJ;AAYH;;AAED,UAAIvD,WAAW,KAAK,QAApB,EAA8B;AAC1B,4BACI,uDACI,oBAAC,IAAD,CAAM,OAAN;AACI,UAAA,EAAE,EAAC,QADP;AAEI,UAAA,KAAK,EAAEE,YAFX;AAGI,UAAA,QAAQ,EAAGmD,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAEvC,YAAAA,YAAY,EAAEmD,CAAC,CAACC,MAAF,CAASC;AAAzB,WAAd,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKI;AAAQ,UAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eAMI;AAAQ,UAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANJ,eAOI;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPJ,CADJ,eAWI,oBAAC,IAAD,CAAM,OAAN;AACI,UAAA,EAAE,EAAC,QADP;AAEI,UAAA,KAAK,EAAEpD,YAFX;AAGI,UAAA,QAAQ,EAAGkD,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAEtC,YAAAA,YAAY,EAAEkD,CAAC,CAACC,MAAF,CAASC;AAAzB,WAAd,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKI;AAAQ,UAAA,GAAG,EAAC,KAAZ;AAAkB,UAAA,KAAK,EAAC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BALJ,EAMMN,KAAK,CAACO,MAAN,CAAa,CAAC5C,IAAD,EAAO6C,KAAP,KAAiBR,KAAK,CAACS,OAAN,CAAc9C,IAAd,MAAwB6C,KAAtD,EAA6DN,GAA7D,CAAiEvC,IAAI,iBACnE;AAAQ,UAAA,GAAG,EAAEA,IAAb;AAAmB,UAAA,KAAK,EAAEA,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiCA,IAAjC,CADF,CANN,CAXJ,eAsBI,oBAAC,IAAD,CAAM,OAAN;AACI,UAAA,EAAE,EAAC,QADP;AAEI,UAAA,KAAK,EAAER,cAFX;AAGI,UAAA,QAAQ,EAAGiD,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAErC,YAAAA,cAAc,EAAEiD,CAAC,CAACC,MAAF,CAASC;AAA3B,WAAd,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKI;AAAQ,UAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,eAMI;AAAQ,UAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,eAOI;AAAQ,UAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPJ,eAQI;AAAQ,UAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARJ,CAtBJ,CADJ;AA2CH;AAEJ,KAhLsC;;AAAA,SAkLvCI,aAlLuC,GAkLvB,MAAM;AAClB,YAAM;AAAE3D,QAAAA;AAAF,UAAkB,KAAKJ,KAA7B;;AAEA,UAAII,WAAW,KAAK,EAApB,EAAwB;AACpB,eAAO,IAAP;AACH;;AAED,0BACI;AAAK,QAAA,GAAG,EAAE,KAAKN,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,KAAKsD,oBAAL,EADN,CADJ,eAII,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKF,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CADJ,eAII,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKC,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CAJJ,CADJ,CAJJ,CADJ;AAiBH,KA1MsC;;AAAA,SA4MvCa,cA5MuC,GA4MrBC,KAAD,IAAW;AACxB,WAAKrD,KAAL,CAAWjB,gBAAX,CAA4BsE,KAA5B;AACA,WAAKrD,KAAL,CAAW4B,OAAX,CAAmBC,IAAnB,CAAyB,gBAAewB,KAAM,EAA9C;AACH,KA/MsC;AAAA;;AAmBvCC,EAAAA,iBAAiB,GAAG;AAChB,SAAKtD,KAAL,CAAWhB,uBAAX,GADgB,CAEhB;AACH;;AAEDuE,EAAAA,oBAAoB,GAAG,CACnB;AACH,GA1BsC,CA4BvC;AACA;AACA;AACA;AACA;;;AAiLAC,EAAAA,MAAM,GAAG;AAELC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK1D,KAAL,CAAW0C,IAAvB;AAEA,UAAM;AAAErD,MAAAA,WAAF;AAAeC,MAAAA,aAAf;AAA8BC,MAAAA,aAA9B;AAA6CM,MAAAA;AAA7C,QAA2D,KAAKT,KAAtE;AAEA,QAAIsD,IAAI,GAAG,KAAK1C,KAAL,CAAW0C,IAAtB;;AAEA,QAAIpD,aAAa,IAAIO,SAAS,KAAK,EAAnC,EAAuC;AACnC6C,MAAAA,IAAI,GAAGA,IAAI,CAACM,MAAL,CAAYJ,GAAG,IAAIA,GAAG,CAACxC,IAAJ,CAASuD,WAAT,GAAuBC,QAAvB,CAAgC/D,SAAS,CAAC8D,WAAV,EAAhC,CAAnB,CAAP;AACH;;AAED,QAAIpE,aAAJ,EAAmB;AACf,YAAM;AAAEG,QAAAA,YAAF;AAAgBC,QAAAA,YAAhB;AAA8BC,QAAAA;AAA9B,UAAiD,KAAKR,KAA5D;;AACA,UAAIM,YAAY,KAAK,KAArB,EAA4B;AACxBgD,QAAAA,IAAI,GAAGA,IAAI,CAACM,MAAL,CAAYJ,GAAG,IAAIA,GAAG,CAACiB,MAAJ,CAAWF,WAAX,OAA6BjE,YAAhD,CAAP;AACH;;AACD,UAAIC,YAAY,KAAK,KAArB,EAA4B;AACxB+C,QAAAA,IAAI,GAAGA,IAAI,CAACM,MAAL,CAAYJ,GAAG,IAAIA,GAAG,CAACxC,IAAJ,KAAaT,YAAhC,CAAP;AACH;;AACD,UAAIC,cAAc,KAAK,KAAvB,EAA8B;AAC1B8C,QAAAA,IAAI,GAAGA,IAAI,CAACM,MAAL,CAAYJ,GAAG,IAAIA,GAAG,CAACkB,QAAJ,CAAaC,IAAb,CAAkBC,OAAO,IAAIA,OAAO,CAACC,IAAR,CAAaN,WAAb,OAA+B/D,cAAc,CAAC+D,WAAf,EAA5D,MAA8FO,SAAjH,CAAP;AACH;AACJ;;AAED,QAAI7E,WAAJ,EAAiB;AACb,YAAM;AAAEI,QAAAA;AAAF,UAAa,KAAKL,KAAxB;;AACA,UAAIK,MAAM,KAAK,gBAAf,EAAiC;AAC7BiD,QAAAA,IAAI,GAAGA,IAAI,CAACyB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAChE,IAAF,GAASiE,CAAC,CAACjE,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CAA3C,CAAP;AACH,OAFD,MAGK,IAAIX,MAAM,KAAK,iBAAf,EAAkC;AACnCiD,QAAAA,IAAI,GAAGA,IAAI,CAACyB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAChE,IAAF,GAASiE,CAAC,CAACjE,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CAA3C,CAAP;AACH,OAFI,MAGA,IAAIX,MAAM,KAAK,UAAf,EAA2B;AAC5BiD,QAAAA,IAAI,GAAGA,IAAI,CAACyB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,UAAF,GAAeD,CAAC,CAACC,UAAjB,GAA8B,CAA9B,GAAkC,CAAC,CAAvD,CAAP;AACH,OAFI,MAGA,IAAI7E,MAAM,KAAK,UAAf,EAA2B;AAC5BiD,QAAAA,IAAI,GAAGA,IAAI,CAACyB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,UAAF,GAAeD,CAAC,CAACC,UAAjB,GAA8B,CAA9B,GAAkC,CAAC,CAAvD,CAAP;AACH;AACJ;;AAED,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAEjG,QAAV;AAAoB,MAAA,OAAO,EAAE,KAAKyD,eAAlC;AAAmD,MAAA,MAAM,EAAC,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAK,MAAA,GAAG,EAAEzC,WAAW,GAAGZ,cAAH,GAAoBD,gBAAzC;AAA2D,MAAA,OAAO,EAAE,KAAKwD,eAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAKI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,CALJ,eAQI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAE1C,aAAa,GAAGX,gBAAH,GAAsBD,kBAA7C;AAAiE,MAAA,OAAO,EAAE,KAAKyD,iBAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAK,MAAA,GAAG,EAAE5C,aAAa,GAAGX,gBAAH,GAAsBC,kBAA7C;AAAiE,MAAA,OAAO,EAAE,KAAKqD,iBAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CARJ,CADJ,eAcI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM5C,aAAa,iBACX;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,OAAN;AACI,MAAA,WAAW,EAAC,QADhB;AAEI,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWS,SAFtB;AAGI,MAAA,QAAQ,EAAGgD,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAEpC,QAAAA,SAAS,EAAEgD,CAAC,CAACC,MAAF,CAASC;AAAtB,OAAd,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFR,eAUI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACML,IAAI,CAACC,GAAL,CAAS,CAACC,GAAD,EAAMK,KAAN,kBACP;AAAK,MAAA,SAAS,EAAG,eAAcA,KAAK,GAAC,CAAN,KAAY,CAAZ,IAAiB,MAAO,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,OAAO,EAAE,MAAM;AAACL,QAAAA,GAAG,CAAC2B,WAAJ,CAAgB,CAAhB,EAAmBV,MAAnB,KAA8B,KAA9B,IAAuC,KAAKzB,oBAAL,CAA0BQ,GAAG,CAAC4B,EAA9B,CAAvC;AAAyE,OAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,EAAE,EAAE,CAAhB;AAAmB,MAAA,SAAS,EAAC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyB5B,GAAG,CAACxC,IAA7B,CADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BwC,GAAG,CAAC9B,MAAjC,OAA4C8B,GAAG,CAAC7B,IAAhD,oBAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvD,OAA+D6B,GAAG,CAAC5B,GAAnE,OAA2E4B,GAAG,CAACxD,KAA/E,CAFJ,CADJ,eAKI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,EAAE,EAAE,CAAhB;AAAmB,MAAA,SAAS,EAAC,kBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,CALJ,eASI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,EAAE,EAAE,CAAhB;AAAmB,MAAA,SAAS,EAAC,kBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMwD,GAAG,CAAC2B,WAAJ,CAAgB,CAAhB,EAAmBV,MAAnB,KAA8B,CAA9B,gBACE;AAAK,MAAA,GAAG,EAAEvF,sBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,GACyCsE,GAAG,CAAC2B,WAAJ,CAAgB,CAAhB,EAAmBV,MAAnB,KAA8B,CAA9B,gBACvC;AAAK,MAAA,GAAG,EAAEtF,uBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuC,gBAEvC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKuB,wBAAL,CAA8B8C,GAA9B,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJR,CATJ,CADJ,CADF,CADN,CAVJ,CAdJ,EAgDM,KAAKO,aAAL,EAhDN,CADJ;AAoDH;;AA9SsC;;AAkT3C;AAAC;;;;;;;;;;;;;AAYS;;AAGV,MAAMsB,eAAe,GAAGrF,KAAK,KAAK;AAC9BsD,EAAAA,IAAI,EAAEtD,KAAK,CAACsF,SAAN,CAAgBC;AADQ,CAAL,CAA7B;;AAIA,eAAelH,OAAO,CAClBgH,eADkB,EAElB;AACIzF,EAAAA,uBADJ;AAEID,EAAAA,gBAFJ;AAGIkB,EAAAA;AAHJ,CAFkB,CAAP,CAObhB,kBAPa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from '../../components/Dealer/Header';\nimport Footer from '../../components/Dealer/Footer';\nimport { IconStatusWaiting, IconStatusConfirmed, IconHome, IconPreapprovalWaiting, IconPreapprovalDeclined, IconSortInActive, IconSortActive, IconSearchInActive, IconSearchActive, IconFilterActive, IconFilterInActive } from '../../assets/images';\nimport { getSalesList, getAppDetailById } from '../../redux/actions/sales';\nimport { getPreApprovalCustomers } from '../../redux/actions/customers';\n\nclass DealerPreApprovals extends Component {\n\n    sidebarRef = React.createRef();\n\n    state = {\n        sortClicked: false,\n        searchClicked: false,\n        filterClicked: false,\n\n        sidebarOpen: \"\",\n\n        sortBy: \"date-new\",\n        filterStatus: \"all\",\n        filterPerson: \"all\",\n        filterCategory: \"all\",\n\n        searchVal: \"\"\n    }\n\n    componentDidMount() {\n        this.props.getPreApprovalCustomers();\n        // document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        // document.removeEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    // handleClickOutside = (event) => {\n    //     if (this.sidebarRef && this.sidebarRef.current && !this.sidebarRef.current.contains(event.target)) {\n    //         this.setState({ sidebarOpen: \"\" });\n    //     }\n    // }\n\n    handleGenerateOrderClick = (customer) => {\n        this.props.changeCustomer({\n            order_type: 2,\n            main_app: {\n                name: customer.name,\n                email: customer.email,\n                dobY: customer.dobY,\n                dobM: customer.dobM,\n                dobD: customer.dobD,\n                ssn: customer.ssn,\n                dl: customer.dl,\n                nod: customer.nod,\n                cell_phone: customer.cell_phone,\n                home_phone: customer.home_phone,\n                street: customer.street,\n                city: customer.city,\n                state: customer.state,\n                zip: customer.zip,\n                yt1: \"\",\n                own_or_rent: \"\",\n                present_employer: \"\",\n                yt2: \"\",\n                job_title: \"\",\n                employer_phone: \"\",\n                monthly_income: \"\",\n                additional_income: \"\",\n                source: \"\",\n                landlord_holder: \"\",\n                monthly_rent_payment: \"\"\n            },\n        });\n        this.props.history.push('/contact');\n    }\n\n    handleArrowBack = () => {\n        this.props.history.goBack();\n    }\n\n    handleSortClick = () => {\n        this.setState({ sidebarOpen: \"sort\" });\n    }\n\n    handleFilterClick = () => {\n        this.setState({ sidebarOpen: \"filter\" });\n    }\n\n    handleSearchClick = () => {\n        this.setState({ searchClicked: !this.state.searchClicked });\n    }\n\n    handleSearchRowClick = (cifno) => {\n        this.props.history.push(`/customer/${cifno}`);\n    }\n\n    handleSideBarApply = () => {\n        const { sidebarOpen } = this.state;\n        if (sidebarOpen === \"sort\") {\n            this.setState({ sidebarOpen: \"\", sortClicked: true });\n        } else if (sidebarOpen === \"search\") {\n            this.setState({ sidebarOpen: \"\", searchClicked: true });\n        } else if (sidebarOpen === \"filter\") {\n            this.setState({ sidebarOpen: \"\", filterClicked: true });\n        }\n    }\n\n    handleSideBarClear = () => {\n        const { sidebarOpen } = this.state;\n        if (sidebarOpen === \"sort\") {\n            this.setState({ sidebarOpen: \"\", sortClicked: false, sortBy: \"date-new\" });\n        } else if (sidebarOpen === \"search\") {\n            this.setState({ sidebarOpen: \"\", searchClicked: false });\n        } else if (sidebarOpen === \"filter\") {\n            this.setState({ sidebarOpen: \"\", filterClicked: false, filterStatus: \"all\", filterPerson: \"all\", filterCategory: \"all\" });\n        }\n    }\n\n    renderSideBarOptions = () => {\n        const { sidebarOpen, sortBy, filterStatus, filterPerson, filterCategory } = this.state;\n\n        const names = this.props.apps.map(app => app.name);\n\n        if (sidebarOpen === \"sort\") {\n            return (\n                <Form.Control\n                    as=\"select\"\n                    value={sortBy}\n                    onChange={(e) => this.setState({ sortBy: e.target.value })}\n                >\n                    <option value=\"date-new\">Date: newest</option>\n                    <option value=\"date-old\">Date: oldest</option>\n                    <option value=\"name-ascending\">Name: A-Z</option>\n                    <option value=\"date-descending\">Name: Z-A</option>\n                </Form.Control>\n            )   \n        }\n\n        if (sidebarOpen === \"filter\") {\n            return (\n                <>\n                    <Form.Control\n                        as=\"select\"\n                        value={filterStatus}\n                        onChange={(e) => this.setState({ filterStatus: e.target.value })}\n                    >\n                        <option value=\"all\">Status</option>\n                        <option value=\"approved\">Approved</option>\n                        <option value=\"waiting\">Waiting</option>\n                    </Form.Control>\n\n                    <Form.Control\n                        as=\"select\"\n                        value={filterPerson}\n                        onChange={(e) => this.setState({ filterPerson: e.target.value })}\n                    >\n                        <option key=\"all\" value=\"all\">Salesperson Name</option>\n                        { names.filter((name, index) => names.indexOf(name) === index).map(name => (\n                            <option key={name} value={name}>{name}</option>\n                        )) }\n                    </Form.Control>\n\n                    <Form.Control\n                        as=\"select\"\n                        value={filterCategory}\n                        onChange={(e) => this.setState({ filterCategory: e.target.value })}\n                    >\n                        <option value=\"all\">Category</option>\n                        <option value=\"food\">FOOD</option>\n                        <option value=\"fsp\">FSP</option>\n                        <option value=\"app\">APP</option>\n                    </Form.Control>\n\n                    {/* <Form.Label>Value range</Form.Label>\n\n                    <div className=\"value-range\">\n                        <Form.Control placeholder=\"$600\" />\n                        <Form.Label>-</Form.Label>\n                        <Form.Control placeholder=\"$3990\" />\n                    </div> */}\n                </>\n            )\n        }\n\n    }\n\n    renderSideBar = () => {\n        const { sidebarOpen } = this.state;\n\n        if (sidebarOpen === \"\") {\n            return null;\n        }\n\n        return (\n            <div ref={this.sidebarRef}>\n                <div  className=\"sidebar\">\n                    { this.renderSideBarOptions() }\n                </div>\n                <Footer>\n                    <Row>\n                        <Col xs={6}>\n                            <Button onClick={this.handleSideBarApply}>APPLY</Button>\n                        </Col>\n                        <Col xs={6}>\n                            <Button onClick={this.handleSideBarClear}>CLEAR</Button>\n                        </Col>\n                    </Row>\n                </Footer>\n            </div>\n        )\n    }\n\n    handleAppClick = (appId) => {\n        this.props.getAppDetailById(appId);\n        this.props.history.push(`/app-details/${appId}`);\n    }\n\n    render() {\n\n        console.log(this.props.apps);\n\n        const { sortClicked, searchClicked, filterClicked, searchVal } = this.state;\n\n        let apps = this.props.apps;\n\n        if (searchClicked && searchVal !== '') {\n            apps = apps.filter(app => app.name.toLowerCase().includes(searchVal.toLowerCase())) \n        }\n\n        if (filterClicked) {\n            const { filterStatus, filterPerson, filterCategory } = this.state;\n            if (filterStatus !== \"all\") {\n                apps = apps.filter(app => app.status.toLowerCase() === filterStatus);\n            }\n            if (filterPerson !== \"all\") {\n                apps = apps.filter(app => app.name === filterPerson);\n            }\n            if (filterCategory !== \"all\") {\n                apps = apps.filter(app => app.products.find(product => product.type.toLowerCase() === filterCategory.toLowerCase()) !== undefined)\n            }\n        }\n        \n        if (sortClicked) {\n            const { sortBy } = this.state;\n            if (sortBy === \"name-ascending\") {\n                apps = apps.sort((a, b) => a.name > b.name ? 1 : -1)\n            }\n            else if (sortBy === \"date-descending\") {\n                apps = apps.sort((a, b) => a.name < b.name ? 1 : -1)\n            }\n            else if (sortBy === \"date-new\") {\n                apps = apps.sort((a, b) => a.created_at > b.created_at ? 1 : -1)\n            }\n            else if (sortBy === \"date-old\") {\n                apps = apps.sort((a, b) => a.created_at < b.created_at ? 1 : -1)\n            }\n        }  \n\n        return (\n            <div className=\"dealer\">\n                <Header>\n                    <HeaderLeft>\n                        <img src={IconHome} onClick={this.handleArrowBack} height=\"28\"/>\n                        <img src={sortClicked ? IconSortActive : IconSortInActive} onClick={this.handleSortClick} />\n                    </HeaderLeft>\n                    <HeaderCenter>\n                        <span>PREAPPROVAL REQUEST</span>\n                    </HeaderCenter>\n                    <HeaderRight>\n                        <img src={searchClicked ? IconSearchActive : IconSearchInActive} onClick={this.handleSearchClick} />\n                        <img src={filterClicked ? IconFilterActive : IconFilterInActive} onClick={this.handleFilterClick} />\n                    </HeaderRight>\n                </Header>\n                <div className=\"preapproval-main\">\n                    { searchClicked && (\n                        <div className=\"dealer-list-search\">\n                            <Form.Control\n                                placeholder=\"Search\"\n                                value={this.state.searchVal}\n                                onChange={(e) => this.setState({ searchVal: e.target.value })}\n                            />\n                        </div>\n                    ) }\n                    <div className=\"dealer-list\">\n                        { apps.map((app, index) => (\n                            <div className={`request-row ${index%2 === 0 && \"dark\"}`}>\n                                <Row onClick={() => {app.preapproval[0].status !== 12121 && this.handleSearchRowClick(app.id)}}>\n                                    <Col xs={6} md={4} className=\"data\">\n                                        <div className=\"title\">{ app.name }</div>\n                                        <div className=\"sub-title\">{ app.street } { app.city } <br/> { app.zip } { app.state }</div>\n                                    </Col>\n                                    <Col xs={3} md={4} className=\"data text-center\">\n                                        <div className=\"date\">R: MM/DD/YY</div>\n                                        <div className=\"date\">A: MM/DD/YY</div>\n                                    </Col>\n                                    <Col xs={3} md={4} className=\"data text-center\">\n                                        { app.preapproval[0].status === 0 ? \n                                            <img src={IconPreapprovalWaiting} /> : app.preapproval[0].status === 2 ? \n                                            <img src={IconPreapprovalDeclined} /> : \n                                            <Button onClick={this.handleGenerateOrderClick(app)}> GENERATE ORDER </Button> }\n                                    </Col>\n                                </Row>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                { this.renderSideBar() }              \n            </div>\n        )\n    }\n}\n\n\n{/* <Row>\n<Col xs={4}>{ app.name }</Col>\n<Col xs={4}>\n    { app.products.map(product => (\n        <div key={product.id}>{ product.type }, ${product.balance}</div>\n    )) }\n</Col>\n<Col xs={4}>\n    { app.status === 'waiting' ? \n        <img src={IconStatusWaiting} /> :\n        <img src={IconStatusConfirmed} /> }\n</Col>\n</Row> */}\n\n\nconst mapStateToProps = state => ({\n    apps: state.customers.preAprrovalCustomer\n});\n\nexport default connect(\n    mapStateToProps,\n    {\n        getPreApprovalCustomers,\n        getAppDetailById,\n        changeCustomer\n    }\n)(DealerPreApprovals);"]},"metadata":{},"sourceType":"module"}