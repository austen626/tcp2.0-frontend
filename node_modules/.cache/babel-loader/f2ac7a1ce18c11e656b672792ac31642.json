{"ast":null,"code":"var _jsxFileName = \"/home/freedom/Music/tcp-frontend/src/screens/Dealer/DealerFix.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from '../../components/Dealer/Header';\nimport Footer from '../../components/Dealer/Footer';\nimport { IconEnvelopeOpen, IconEnvelopeClosed, IconArrowLeft, IconAwesomePaperPlane, IconAwesomePenFancy, IconAwesomePenFancyRight, IconOpenEnvelopeClosed, IconSortInActive, IconSortActive, IconSearchInActive, IconSearchActive, IconFilterActive, IconFilterInActive } from '../../assets/images';\nimport { getSalesList, getAppDetailById } from '../../redux/actions/sales';\n\nclass DealerIncomplete extends Component {\n  constructor(...args) {\n    super(...args);\n    this.sidebarRef = React.createRef();\n    this.state = {\n      sortClicked: false,\n      searchClicked: false,\n      filterClicked: false,\n      sidebarOpen: \"\",\n      sortBy: \"date-new\",\n      filterStatus: \"all\",\n      filterPerson: \"all\",\n      filterCategory: \"all\",\n      searchVal: \"\"\n    };\n\n    this.handleArrowBack = () => {\n      this.props.history.goBack();\n    };\n\n    this.handleSortClick = () => {\n      this.setState({\n        sidebarOpen: \"sort\"\n      });\n    };\n\n    this.handleFilterClick = () => {\n      this.setState({\n        sidebarOpen: \"filter\"\n      });\n    };\n\n    this.handleSearchClick = () => {\n      this.setState({\n        searchClicked: !this.state.searchClicked\n      });\n    };\n\n    this.handleSearchRowClick = cifno => {\n      this.props.history.push(`/customer/${cifno}`);\n    };\n\n    this.handleAppClick = appId => {\n      this.props.getAppDetailById(appId);\n      this.props.history.push(`/app-details/${appId}`);\n    };\n  }\n\n  componentDidMount() {\n    this.props.getSalesList(); // document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {// document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  } // handleClickOutside = (event) => {\n  //     if (this.sidebarRef && this.sidebarRef.current && !this.sidebarRef.current.contains(event.target)) {\n  //         this.setState({ sidebarOpen: \"\" });\n  //     }\n  // }\n\n\n  render() {\n    const {\n      sortClicked,\n      searchClicked,\n      filterClicked,\n      searchVal\n    } = this.state;\n    let apps = this.props.apps;\n\n    if (searchClicked && searchVal !== '') {\n      apps = apps.filter(app => app.name.toLowerCase().includes(searchVal.toLowerCase()));\n    }\n\n    if (filterClicked) {\n      const {\n        filterStatus,\n        filterPerson,\n        filterCategory\n      } = this.state;\n\n      if (filterStatus !== \"all\") {\n        apps = apps.filter(app => app.status.toLowerCase() === filterStatus);\n      }\n\n      if (filterPerson !== \"all\") {\n        apps = apps.filter(app => app.name === filterPerson);\n      }\n\n      if (filterCategory !== \"all\") {\n        apps = apps.filter(app => app.products.find(product => product.type.toLowerCase() === filterCategory.toLowerCase()) !== undefined);\n      }\n    }\n\n    if (sortClicked) {\n      const {\n        sortBy\n      } = this.state;\n\n      if (sortBy === \"name-ascending\") {\n        apps = apps.sort((a, b) => a.name > b.name ? 1 : -1);\n      } else if (sortBy === \"date-descending\") {\n        apps = apps.sort((a, b) => a.name < b.name ? 1 : -1);\n      } else if (sortBy === \"date-new\") {\n        apps = apps.sort((a, b) => a.created_at > b.created_at ? 1 : -1);\n      } else if (sortBy === \"date-old\") {\n        apps = apps.sort((a, b) => a.created_at < b.created_at ? 1 : -1);\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HeaderLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: IconArrowLeft,\n      onClick: this.handleArrowBack,\n      height: \"28\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(HeaderCenter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"FIX ISSUE\")), /*#__PURE__*/React.createElement(HeaderRight, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"preapproval-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dealer-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  apps: state.sales.apps\n});\n\nexport default connect(mapStateToProps, {\n  getSalesList,\n  getAppDetailById\n})(DealerIncomplete);","map":{"version":3,"sources":["/home/freedom/Music/tcp-frontend/src/screens/Dealer/DealerFix.js"],"names":["React","Component","connect","Form","Row","Col","Button","Header","HeaderLeft","HeaderCenter","HeaderRight","Footer","IconEnvelopeOpen","IconEnvelopeClosed","IconArrowLeft","IconAwesomePaperPlane","IconAwesomePenFancy","IconAwesomePenFancyRight","IconOpenEnvelopeClosed","IconSortInActive","IconSortActive","IconSearchInActive","IconSearchActive","IconFilterActive","IconFilterInActive","getSalesList","getAppDetailById","DealerIncomplete","sidebarRef","createRef","state","sortClicked","searchClicked","filterClicked","sidebarOpen","sortBy","filterStatus","filterPerson","filterCategory","searchVal","handleArrowBack","props","history","goBack","handleSortClick","setState","handleFilterClick","handleSearchClick","handleSearchRowClick","cifno","push","handleAppClick","appId","componentDidMount","componentWillUnmount","render","apps","filter","app","name","toLowerCase","includes","status","products","find","product","type","undefined","sort","a","b","created_at","mapStateToProps","sales"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,MAAzB,QAAuC,iBAAvC;AACA,OAAOC,MAAP,IAAiBC,UAAjB,EAA6BC,YAA7B,EAA2CC,WAA3C,QAA8D,gCAA9D;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,EAA+CC,aAA/C,EAA8DC,qBAA9D,EAAqFC,mBAArF,EAA0GC,wBAA1G,EAAoIC,sBAApI,EAA4JC,gBAA5J,EAA8KC,cAA9K,EAA8LC,kBAA9L,EAAkNC,gBAAlN,EAAoOC,gBAApO,EAAsPC,kBAAtP,QAAgR,qBAAhR;AACA,SAASC,YAAT,EAAuBC,gBAAvB,QAA+C,2BAA/C;;AAEA,MAAMC,gBAAN,SAA+B1B,SAA/B,CAAyC;AAAA;AAAA;AAAA,SAErC2B,UAFqC,GAExB5B,KAAK,CAAC6B,SAAN,EAFwB;AAAA,SAIrCC,KAJqC,GAI7B;AACJC,MAAAA,WAAW,EAAE,KADT;AAEJC,MAAAA,aAAa,EAAE,KAFX;AAGJC,MAAAA,aAAa,EAAE,KAHX;AAKJC,MAAAA,WAAW,EAAE,EALT;AAOJC,MAAAA,MAAM,EAAE,UAPJ;AAQJC,MAAAA,YAAY,EAAE,KARV;AASJC,MAAAA,YAAY,EAAE,KATV;AAUJC,MAAAA,cAAc,EAAE,KAVZ;AAYJC,MAAAA,SAAS,EAAE;AAZP,KAJ6B;;AAAA,SAkCrCC,eAlCqC,GAkCnB,MAAM;AACpB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,MAAnB;AACH,KApCoC;;AAAA,SAsCrCC,eAtCqC,GAsCnB,MAAM;AACpB,WAAKC,QAAL,CAAc;AAAEX,QAAAA,WAAW,EAAE;AAAf,OAAd;AACH,KAxCoC;;AAAA,SA0CrCY,iBA1CqC,GA0CjB,MAAM;AACtB,WAAKD,QAAL,CAAc;AAAEX,QAAAA,WAAW,EAAE;AAAf,OAAd;AACH,KA5CoC;;AAAA,SA8CrCa,iBA9CqC,GA8CjB,MAAM;AACtB,WAAKF,QAAL,CAAc;AAAEb,QAAAA,aAAa,EAAE,CAAC,KAAKF,KAAL,CAAWE;AAA7B,OAAd;AACH,KAhDoC;;AAAA,SAkDrCgB,oBAlDqC,GAkDbC,KAAD,IAAW;AAC9B,WAAKR,KAAL,CAAWC,OAAX,CAAmBQ,IAAnB,CAAyB,aAAYD,KAAM,EAA3C;AACH,KApDoC;;AAAA,SAsDrCE,cAtDqC,GAsDnBC,KAAD,IAAW;AACxB,WAAKX,KAAL,CAAWf,gBAAX,CAA4B0B,KAA5B;AACA,WAAKX,KAAL,CAAWC,OAAX,CAAmBQ,IAAnB,CAAyB,gBAAeE,KAAM,EAA9C;AACH,KAzDoC;AAAA;;AAmBrCC,EAAAA,iBAAiB,GAAG;AAChB,SAAKZ,KAAL,CAAWhB,YAAX,GADgB,CAEhB;AACH;;AAED6B,EAAAA,oBAAoB,GAAG,CACnB;AACH,GA1BoC,CA4BrC;AACA;AACA;AACA;AACA;;;AA2BAC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAExB,MAAAA,WAAF;AAAeC,MAAAA,aAAf;AAA8BC,MAAAA,aAA9B;AAA6CM,MAAAA;AAA7C,QAA2D,KAAKT,KAAtE;AACA,QAAI0B,IAAI,GAAG,KAAKf,KAAL,CAAWe,IAAtB;;AACA,QAAIxB,aAAa,IAAIO,SAAS,KAAK,EAAnC,EAAuC;AACnCiB,MAAAA,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAYC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASC,WAAT,GAAuBC,QAAvB,CAAgCtB,SAAS,CAACqB,WAAV,EAAhC,CAAnB,CAAP;AACH;;AACD,QAAI3B,aAAJ,EAAmB;AACf,YAAM;AAAEG,QAAAA,YAAF;AAAgBC,QAAAA,YAAhB;AAA8BC,QAAAA;AAA9B,UAAiD,KAAKR,KAA5D;;AACA,UAAIM,YAAY,KAAK,KAArB,EAA4B;AACxBoB,QAAAA,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAYC,GAAG,IAAIA,GAAG,CAACI,MAAJ,CAAWF,WAAX,OAA6BxB,YAAhD,CAAP;AACH;;AACD,UAAIC,YAAY,KAAK,KAArB,EAA4B;AACxBmB,QAAAA,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAYC,GAAG,IAAIA,GAAG,CAACC,IAAJ,KAAatB,YAAhC,CAAP;AACH;;AACD,UAAIC,cAAc,KAAK,KAAvB,EAA8B;AAC1BkB,QAAAA,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAYC,GAAG,IAAIA,GAAG,CAACK,QAAJ,CAAaC,IAAb,CAAkBC,OAAO,IAAIA,OAAO,CAACC,IAAR,CAAaN,WAAb,OAA+BtB,cAAc,CAACsB,WAAf,EAA5D,MAA8FO,SAAjH,CAAP;AACH;AACJ;;AACD,QAAIpC,WAAJ,EAAiB;AACb,YAAM;AAAEI,QAAAA;AAAF,UAAa,KAAKL,KAAxB;;AACA,UAAIK,MAAM,KAAK,gBAAf,EAAiC;AAC7BqB,QAAAA,IAAI,GAAGA,IAAI,CAACY,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACV,IAAF,GAASW,CAAC,CAACX,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CAA3C,CAAP;AACH,OAFD,MAGK,IAAIxB,MAAM,KAAK,iBAAf,EAAkC;AACnCqB,QAAAA,IAAI,GAAGA,IAAI,CAACY,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACV,IAAF,GAASW,CAAC,CAACX,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CAA3C,CAAP;AACH,OAFI,MAGA,IAAIxB,MAAM,KAAK,UAAf,EAA2B;AAC5BqB,QAAAA,IAAI,GAAGA,IAAI,CAACY,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,UAAF,GAAeD,CAAC,CAACC,UAAjB,GAA8B,CAA9B,GAAkC,CAAC,CAAvD,CAAP;AACH,OAFI,MAGA,IAAIpC,MAAM,KAAK,UAAf,EAA2B;AAC5BqB,QAAAA,IAAI,GAAGA,IAAI,CAACY,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,UAAF,GAAeD,CAAC,CAACC,UAAjB,GAA8B,CAA9B,GAAkC,CAAC,CAAvD,CAAP;AACH;AACJ;;AAED,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAEzD,aAAV;AAAyB,MAAA,OAAO,EAAE,KAAK0B,eAAvC;AAAwD,MAAA,MAAM,EAAC,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CAJJ,eAOI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CADJ,eAWI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAXJ,CADJ;AAkBH;;AA/GoC;;AAmHzC,MAAMgC,eAAe,GAAG1C,KAAK,KAAK;AAC9B0B,EAAAA,IAAI,EAAE1B,KAAK,CAAC2C,KAAN,CAAYjB;AADY,CAAL,CAA7B;;AAIA,eAAetD,OAAO,CAClBsE,eADkB,EAElB;AACI/C,EAAAA,YADJ;AAEIC,EAAAA;AAFJ,CAFkB,CAAP,CAMbC,gBANa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport Header, { HeaderLeft, HeaderCenter, HeaderRight } from '../../components/Dealer/Header';\nimport Footer from '../../components/Dealer/Footer';\nimport { IconEnvelopeOpen, IconEnvelopeClosed, IconArrowLeft, IconAwesomePaperPlane, IconAwesomePenFancy, IconAwesomePenFancyRight, IconOpenEnvelopeClosed, IconSortInActive, IconSortActive, IconSearchInActive, IconSearchActive, IconFilterActive, IconFilterInActive } from '../../assets/images';\nimport { getSalesList, getAppDetailById } from '../../redux/actions/sales';\n\nclass DealerIncomplete extends Component {\n\n    sidebarRef = React.createRef();\n\n    state = {\n        sortClicked: false,\n        searchClicked: false,\n        filterClicked: false,\n\n        sidebarOpen: \"\",\n\n        sortBy: \"date-new\",\n        filterStatus: \"all\",\n        filterPerson: \"all\",\n        filterCategory: \"all\",\n\n        searchVal: \"\"\n    }\n\n    componentDidMount() {\n        this.props.getSalesList();\n        // document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        // document.removeEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    // handleClickOutside = (event) => {\n    //     if (this.sidebarRef && this.sidebarRef.current && !this.sidebarRef.current.contains(event.target)) {\n    //         this.setState({ sidebarOpen: \"\" });\n    //     }\n    // }\n\n    handleArrowBack = () => {\n        this.props.history.goBack();\n    }\n\n    handleSortClick = () => {\n        this.setState({ sidebarOpen: \"sort\" });\n    }\n\n    handleFilterClick = () => {\n        this.setState({ sidebarOpen: \"filter\" });\n    }\n\n    handleSearchClick = () => {\n        this.setState({ searchClicked: !this.state.searchClicked });\n    }\n\n    handleSearchRowClick = (cifno) => {\n        this.props.history.push(`/customer/${cifno}`);\n    }\n\n    handleAppClick = (appId) => {\n        this.props.getAppDetailById(appId);\n        this.props.history.push(`/app-details/${appId}`);\n    }\n\n    render() {\n        const { sortClicked, searchClicked, filterClicked, searchVal } = this.state;\n        let apps = this.props.apps;\n        if (searchClicked && searchVal !== '') {\n            apps = apps.filter(app => app.name.toLowerCase().includes(searchVal.toLowerCase())) \n        }\n        if (filterClicked) {\n            const { filterStatus, filterPerson, filterCategory } = this.state;\n            if (filterStatus !== \"all\") {\n                apps = apps.filter(app => app.status.toLowerCase() === filterStatus);\n            }\n            if (filterPerson !== \"all\") {\n                apps = apps.filter(app => app.name === filterPerson);\n            }\n            if (filterCategory !== \"all\") {\n                apps = apps.filter(app => app.products.find(product => product.type.toLowerCase() === filterCategory.toLowerCase()) !== undefined)\n            }\n        }\n        if (sortClicked) {\n            const { sortBy } = this.state;\n            if (sortBy === \"name-ascending\") {\n                apps = apps.sort((a, b) => a.name > b.name ? 1 : -1)\n            }\n            else if (sortBy === \"date-descending\") {\n                apps = apps.sort((a, b) => a.name < b.name ? 1 : -1)\n            }\n            else if (sortBy === \"date-new\") {\n                apps = apps.sort((a, b) => a.created_at > b.created_at ? 1 : -1)\n            }\n            else if (sortBy === \"date-old\") {\n                apps = apps.sort((a, b) => a.created_at < b.created_at ? 1 : -1)\n            }\n        }\n        \n        return (\n            <div className=\"dealer\">\n                <Header>\n                    <HeaderLeft>\n                        <img src={IconArrowLeft} onClick={this.handleArrowBack} height=\"28\"/>\n                    </HeaderLeft>\n                    <HeaderCenter>\n                        <span>FIX ISSUE</span>\n                    </HeaderCenter>\n                    <HeaderRight>\n                    </HeaderRight>\n                </Header>\n                <div className=\"preapproval-main\">\n                    <div className=\"dealer-list\">\n                    </div>\n                </div>            \n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => ({\n    apps: state.sales.apps\n});\n\nexport default connect(\n    mapStateToProps,\n    {\n        getSalesList,\n        getAppDetailById\n    }\n)(DealerIncomplete);"]},"metadata":{},"sourceType":"module"}