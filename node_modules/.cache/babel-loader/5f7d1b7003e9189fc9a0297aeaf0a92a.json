{"ast":null,"code":"import API from '../../api';\nimport { pushNotification } from 'utils/notification';\nimport { message as notificationMsg } from 'shared/constant';\nexport const GET_PREAPPROVALS = \"GET_PREAPPROVALS\";\nexport const GET_PREAPPROVALS_SUCCESS = \"GET_PREAPPROVALS_SUCCESS\";\nexport const GET_PREAPPROVALS_FAILED = \"GET_PREAPPROVALS_FAILED\";\nexport const SET_SELECTED_PREAPPROVAL = \"SET_SELECTED_PREAPPROVAL\";\nexport const CHANGE_SELECTED_PREAPPROVAL_STATUS = \"CHANGE_SELECTED_PREAPPROVAL_STATUS\";\nexport const SET_SELECTED_PENDING_APPLICATION = \"SET_SELECTED_PENDING_APPLICATION\";\nexport const CHANGE_SELECTED_PENDING_APPLICATION_STATUS = \"CHANGE_SELECTED_PENDING_APPLICATION_STATUS\";\nexport const GET_FUNDING_REQUESTS = \"GET_FUNDING_REQUESTS\";\nexport const GET_FUNDING_REQUESTS_SUCCESS = \"GET_FUNDING_REQUESTS_SUCCESS\";\nexport const GET_FUNDING_REQUESTS_FAILED = \"GET_FUNDING_REQUESTS_FAILED\";\nexport const SET_SELECTED_FUNDING_REQUEST = \"SET_SELECTED_FUNDING_REQUEST\";\nexport const CHANGE_SELECTED_FUNDING_REQUEST_REQUEST = \"CHANGE_SELECTED_FUNDING_REQUEST_REQUEST\";\nexport const CHANGE_SELECTED_FUNDING_REQUEST_STATUS = \"CHANGE_SELECTED_FUNDING_REQUEST_STATUS\";\nexport const CHANGE_SELECTED_FUNDING_REQUEST_FAILED = \"CHANGE_SELECTED_FUNDING_REQUEST_FAILED\";\nexport const CHANGE_SELECTED_PREAPPROVAL_REQUEST = 'CHANGE_SELECTED_PREAPPROVAL_REQUEST';\nexport const CHANGE_SELECTED_PREAPPROVAL_FAILED = 'CHANGE_SELECTED_PREAPPROVAL_FAILED'; // TCP 2.0\n\nexport const GET_DEALER_REQUESTS = \"GET_DEALER_REQUESTS\";\nexport const GET_DEALER_REQUESTS_SUCCESS = \"GET_DEALER_REQUESTS_SUCCESS\";\nexport const GET_DEALER_REQUESTS_FAILED = \"GET_DEALER_REQUESTS_FAILED\";\nexport const SET_SELECTED_DEALER_REQUEST = \"SET_SELECTED_DEALER_REQUEST\";\nexport function getPreapprovals() {\n  return async function (dispatch) {\n    dispatch({\n      type: GET_PREAPPROVALS\n    });\n\n    try {\n      const response = await API.get(`/sales/preapprovals`);\n      dispatch({\n        type: GET_PREAPPROVALS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_PREAPPROVALS_FAILED\n      });\n    }\n  };\n}\nexport function setSelectedPreApproval(item) {\n  return async function (dispatch) {\n    dispatch({\n      type: SET_SELECTED_PREAPPROVAL,\n      payload: item\n    });\n  };\n}\nexport function changeSelectedPreApprovalStatus(id, status, message, history, url, approveItem) {\n  return async function (dispatch) {\n    dispatch({\n      type: CHANGE_SELECTED_PREAPPROVAL_REQUEST\n    });\n\n    try {\n      await API.put(`/sales/preapproval/${id}`, {\n        status,\n        message,\n        appliance: approveItem.appliance,\n        earliest_delivery_date: approveItem.earliest_delivery_date,\n        product_type: approveItem.product_type\n      });\n      dispatch({\n        type: CHANGE_SELECTED_PREAPPROVAL_STATUS,\n        payload: status\n      });\n      pushNotification(notificationMsg.DISPOSITION_SUCCESS, 'success', 'TOP_RIGHT', 3000);\n      history && url && history.push(url);\n    } catch (error) {\n      pushNotification('Some Thing Went Wrong', 'error', 'TOP_RIGHT', 3000);\n      dispatch({\n        type: CHANGE_SELECTED_PREAPPROVAL_FAILED\n      });\n    }\n  };\n}\nexport function setSelectedPendingApplication(item) {\n  return async function (dispatch) {\n    dispatch({\n      type: SET_SELECTED_PENDING_APPLICATION,\n      payload: item\n    });\n  };\n}\nexport function changeSelectedPendingApplicationStatus(id, status, history, path, rating, msg) {\n  return async function (dispatch) {\n    dispatch({\n      type: CHANGE_SELECTED_PREAPPROVAL_REQUEST\n    });\n\n    try {\n      const message = msg || \"\";\n      await API.put(`/sales/appstatuschange`, {\n        id,\n        status,\n        rating,\n        message\n      });\n      dispatch({\n        type: CHANGE_SELECTED_PREAPPROVAL_STATUS,\n        payload: status\n      });\n      pushNotification(notificationMsg.REQUEST_SUCCESS, 'success', 'TOP_RIGHT', 3000);\n      history && history.push(path);\n    } catch (error) {\n      pushNotification('Some Thing Went Wrong', 'error', 'TOP_RIGHT', 3000);\n      dispatch({\n        type: CHANGE_SELECTED_PREAPPROVAL_FAILED\n      });\n    }\n  };\n}\nexport function requestFunding(appId, deliveryDate, modalOpen, mountFunction) {\n  return async function (dispatch) {\n    const response = await API.post(`/sales/fundingrequests`, {\n      app_id: appId,\n      delivery_date: deliveryDate\n    });\n\n    if (response) {\n      modalOpen && modalOpen();\n      mountFunction && mountFunction();\n    }\n\n    return true;\n  };\n}\nexport function requestCancel(appId) {\n  return async function (dispatch) {\n    await API.put(`/sales/cancelapp`, {\n      id: appId\n    });\n    return true;\n  };\n}\nexport function getFundingRequests() {\n  return async function (dispatch) {\n    dispatch({\n      type: GET_FUNDING_REQUESTS\n    });\n\n    try {\n      const response = await API.get(`/sales/fundingrequests`);\n      dispatch({\n        type: GET_FUNDING_REQUESTS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_FUNDING_REQUESTS_FAILED\n      });\n    }\n  };\n}\nexport function setSelectedFundingRequest(item) {\n  return async function (dispatch) {\n    dispatch({\n      type: SET_SELECTED_FUNDING_REQUEST,\n      payload: item\n    });\n  };\n}\nexport function changeSelectedFundingRequestStatus(id, status) {\n  return async function (dispatch) {\n    dispatch({\n      type: CHANGE_SELECTED_FUNDING_REQUEST_REQUEST\n    });\n\n    try {\n      await API.put(`/sales/fundingrequest/${id}`, {\n        status\n      });\n      dispatch({\n        type: CHANGE_SELECTED_FUNDING_REQUEST_STATUS,\n        payload: status\n      });\n    } catch (error) {\n      dispatch({\n        type: CHANGE_SELECTED_FUNDING_REQUEST_FAILED\n      });\n    }\n  };\n} // TCP 2.0\n\nexport function getDealersRequests() {\n  return async function (dispatch) {\n    dispatch({\n      type: GET_DEALER_REQUESTS\n    });\n\n    try {\n      const response = await API.get(`/accounts/list-dealer`);\n      dispatch({\n        type: GET_DEALER_REQUESTS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_DEALER_REQUESTS_FAILED\n      });\n    }\n  };\n}\nexport function setSelectedDealerRequest(item) {\n  return async function (dispatch) {\n    dispatch({\n      type: SET_SELECTED_DEALER_REQUEST,\n      payload: item\n    });\n  };\n}\nexport function changePasswordRequest(action) {\n  return async function (dispatch) {\n    dispatch({\n      type: CHANGE_PASSWORD_START\n    });\n\n    try {\n      const data = {\n        currentpassword: action.currentPassword,\n        newpassword: action.password\n      };\n      const response = await API.post('/accounts/change-password', data);\n\n      if (response) {\n        dispatch({\n          type: CHANGE_PASSWORD_SUCCESS\n        });\n        action.reset && action.reset();\n        pushNotification(message.PASSWORD_CHANGE_SUCCESS, 'success', 'TOP_RIGHT', 3000);\n      }\n    } catch (error) {\n      if (error && error.response && error.response.data.error) {\n        const errValue = error.response.data.error;\n        pushNotification(errValue, 'error', 'TOP_RIGHT', 3000);\n      } else {\n        pushNotification(error.response.data, 'error', 'TOP_RIGHT', 3000);\n      }\n\n      dispatch({\n        type: CHANGE_PASSWORD_FAILURE\n      });\n    }\n  };\n}","map":{"version":3,"sources":["/home/freedom/Music/tcp2.0-frontend/src/redux/actions/admin.js"],"names":["API","pushNotification","message","notificationMsg","GET_PREAPPROVALS","GET_PREAPPROVALS_SUCCESS","GET_PREAPPROVALS_FAILED","SET_SELECTED_PREAPPROVAL","CHANGE_SELECTED_PREAPPROVAL_STATUS","SET_SELECTED_PENDING_APPLICATION","CHANGE_SELECTED_PENDING_APPLICATION_STATUS","GET_FUNDING_REQUESTS","GET_FUNDING_REQUESTS_SUCCESS","GET_FUNDING_REQUESTS_FAILED","SET_SELECTED_FUNDING_REQUEST","CHANGE_SELECTED_FUNDING_REQUEST_REQUEST","CHANGE_SELECTED_FUNDING_REQUEST_STATUS","CHANGE_SELECTED_FUNDING_REQUEST_FAILED","CHANGE_SELECTED_PREAPPROVAL_REQUEST","CHANGE_SELECTED_PREAPPROVAL_FAILED","GET_DEALER_REQUESTS","GET_DEALER_REQUESTS_SUCCESS","GET_DEALER_REQUESTS_FAILED","SET_SELECTED_DEALER_REQUEST","getPreapprovals","dispatch","type","response","get","payload","data","error","setSelectedPreApproval","item","changeSelectedPreApprovalStatus","id","status","history","url","approveItem","put","appliance","earliest_delivery_date","product_type","DISPOSITION_SUCCESS","push","setSelectedPendingApplication","changeSelectedPendingApplicationStatus","path","rating","msg","REQUEST_SUCCESS","requestFunding","appId","deliveryDate","modalOpen","mountFunction","post","app_id","delivery_date","requestCancel","getFundingRequests","setSelectedFundingRequest","changeSelectedFundingRequestStatus","getDealersRequests","setSelectedDealerRequest","changePasswordRequest","action","CHANGE_PASSWORD_START","currentpassword","currentPassword","newpassword","password","CHANGE_PASSWORD_SUCCESS","reset","PASSWORD_CHANGE_SUCCESS","errValue","CHANGE_PASSWORD_FAILURE"],"mappings":"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","sourcesContent":["import API from '../../api';\nimport { pushNotification } from 'utils/notification';\nimport { message as notificationMsg } from 'shared/constant';\nexport const GET_PREAPPROVALS = \"GET_PREAPPROVALS\";\nexport const GET_PREAPPROVALS_SUCCESS = \"GET_PREAPPROVALS_SUCCESS\";\nexport const GET_PREAPPROVALS_FAILED = \"GET_PREAPPROVALS_FAILED\";\n\nexport const SET_SELECTED_PREAPPROVAL = \"SET_SELECTED_PREAPPROVAL\";\nexport const CHANGE_SELECTED_PREAPPROVAL_STATUS = \"CHANGE_SELECTED_PREAPPROVAL_STATUS\";\n\nexport const SET_SELECTED_PENDING_APPLICATION = \"SET_SELECTED_PENDING_APPLICATION\";\nexport const CHANGE_SELECTED_PENDING_APPLICATION_STATUS = \"CHANGE_SELECTED_PENDING_APPLICATION_STATUS\";\n\nexport const GET_FUNDING_REQUESTS = \"GET_FUNDING_REQUESTS\";\nexport const GET_FUNDING_REQUESTS_SUCCESS = \"GET_FUNDING_REQUESTS_SUCCESS\";\nexport const GET_FUNDING_REQUESTS_FAILED = \"GET_FUNDING_REQUESTS_FAILED\";\nexport const SET_SELECTED_FUNDING_REQUEST = \"SET_SELECTED_FUNDING_REQUEST\";\nexport const CHANGE_SELECTED_FUNDING_REQUEST_REQUEST = \"CHANGE_SELECTED_FUNDING_REQUEST_REQUEST\";\nexport const CHANGE_SELECTED_FUNDING_REQUEST_STATUS = \"CHANGE_SELECTED_FUNDING_REQUEST_STATUS\";\nexport const CHANGE_SELECTED_FUNDING_REQUEST_FAILED = \"CHANGE_SELECTED_FUNDING_REQUEST_FAILED\";\n\nexport const CHANGE_SELECTED_PREAPPROVAL_REQUEST= 'CHANGE_SELECTED_PREAPPROVAL_REQUEST';\nexport const CHANGE_SELECTED_PREAPPROVAL_FAILED = 'CHANGE_SELECTED_PREAPPROVAL_FAILED';\n\n\n\n\n\n\n// TCP 2.0\n\nexport const GET_DEALER_REQUESTS = \"GET_DEALER_REQUESTS\";\nexport const GET_DEALER_REQUESTS_SUCCESS = \"GET_DEALER_REQUESTS_SUCCESS\";\nexport const GET_DEALER_REQUESTS_FAILED = \"GET_DEALER_REQUESTS_FAILED\";\nexport const SET_SELECTED_DEALER_REQUEST = \"SET_SELECTED_DEALER_REQUEST\";\n\n\n\n\n\n\n\n\nexport function getPreapprovals() {\n    return async function(dispatch) {\n        dispatch({\n            type: GET_PREAPPROVALS\n        });\n        try {\n            const response = await API.get(`/sales/preapprovals`);\n            dispatch({\n                type: GET_PREAPPROVALS_SUCCESS,\n                payload: response.data\n            })\n        } catch (error) {\n            dispatch({\n                type: GET_PREAPPROVALS_FAILED\n            })\n        }\n    }\n}\n\nexport function setSelectedPreApproval(item) {\n    return async function(dispatch) {\n        dispatch({\n            type: SET_SELECTED_PREAPPROVAL,\n            payload: item\n        });\n    }\n}\n\nexport function changeSelectedPreApprovalStatus(id, status, message, history, url, approveItem) {\n    return async function(dispatch) {\n        dispatch({\n            type: CHANGE_SELECTED_PREAPPROVAL_REQUEST,\n        })\n        try {\n            await API.put(`/sales/preapproval/${id}`, { status, message, appliance: approveItem.appliance, earliest_delivery_date: approveItem.earliest_delivery_date, product_type: approveItem.product_type });\n            dispatch({\n                type: CHANGE_SELECTED_PREAPPROVAL_STATUS,\n                payload: status\n            })\n            pushNotification(notificationMsg.DISPOSITION_SUCCESS, 'success', 'TOP_RIGHT', 3000);\n            history && url && history.push(url);\n        } catch (error) {\n            pushNotification('Some Thing Went Wrong', 'error', 'TOP_RIGHT', 3000);\n            dispatch({\n                type: CHANGE_SELECTED_PREAPPROVAL_FAILED,\n            })\n        }\n\n    }\n}\n\nexport function setSelectedPendingApplication(item) {\n    return async function(dispatch) {\n        dispatch({\n            type: SET_SELECTED_PENDING_APPLICATION,\n            payload: item\n        });\n    }\n}\n\nexport function changeSelectedPendingApplicationStatus(id, status, history, path, rating, msg) {\n    return async function(dispatch) {\n        dispatch({\n            type: CHANGE_SELECTED_PREAPPROVAL_REQUEST,\n        })\n        try {\n            const message = msg || \"\";\n            await API.put(`/sales/appstatuschange`, { id, status, rating, message });\n            dispatch({\n                type: CHANGE_SELECTED_PREAPPROVAL_STATUS,\n                payload: status\n            })\n            pushNotification(notificationMsg.REQUEST_SUCCESS, 'success', 'TOP_RIGHT', 3000);\n            history && history.push(path);\n        } catch (error) {\n            pushNotification('Some Thing Went Wrong', 'error', 'TOP_RIGHT', 3000);\n            dispatch({\n                type: CHANGE_SELECTED_PREAPPROVAL_FAILED,\n            })\n        }\n       \n    }\n}\n\nexport function requestFunding(appId, deliveryDate, modalOpen, mountFunction) {\n    return async function(dispatch) {\n        const response = await API.post(`/sales/fundingrequests`, {\n            app_id: appId,\n            delivery_date: deliveryDate\n        });\n        if(response) {\n            modalOpen && modalOpen();\n            mountFunction && mountFunction()\n        }      \n        return true;\n    }\n}\n\nexport function requestCancel(appId) {\n    return async function(dispatch) {\n        await API.put(`/sales/cancelapp`, {\n            id: appId\n        });\n        return true;\n    }\n}\n\nexport function getFundingRequests() {\n    return async function(dispatch) {\n        dispatch({\n            type: GET_FUNDING_REQUESTS\n        });\n        try {\n            const response = await API.get(`/sales/fundingrequests`);\n            dispatch({\n                type: GET_FUNDING_REQUESTS_SUCCESS,\n                payload: response.data\n            })\n        } catch (error) {\n            dispatch({\n                type: GET_FUNDING_REQUESTS_FAILED\n            })\n        }\n    }\n}\n\nexport function setSelectedFundingRequest(item) {\n    return async function(dispatch) {\n        dispatch({\n            type: SET_SELECTED_FUNDING_REQUEST,\n            payload: item\n        });\n    }\n}\n\nexport function changeSelectedFundingRequestStatus(id, status) {\n    return async function(dispatch) {\n        dispatch({\n            type: CHANGE_SELECTED_FUNDING_REQUEST_REQUEST,\n        })\n        try {\n            await API.put(`/sales/fundingrequest/${id}`, { status });\n            dispatch({\n                type: CHANGE_SELECTED_FUNDING_REQUEST_STATUS,\n                payload: status\n            })\n        } catch (error) {\n            dispatch({\n                type: CHANGE_SELECTED_FUNDING_REQUEST_FAILED,\n            })\n        }\n       \n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// TCP 2.0\n\n\nexport function getDealersRequests() {\n    return async function(dispatch) {\n        dispatch({\n            type: GET_DEALER_REQUESTS\n        });\n        try {\n            const response = await API.get(`/accounts/list-dealer`);\n            dispatch({\n                type: GET_DEALER_REQUESTS_SUCCESS,\n                payload: response.data\n            })\n        } catch (error) {\n            dispatch({\n                type: GET_DEALER_REQUESTS_FAILED\n            })\n        }\n    }\n}\n\nexport function setSelectedDealerRequest(item) {\n    return async function(dispatch) {\n        dispatch({\n            type: SET_SELECTED_DEALER_REQUEST,\n            payload: item\n        });\n    }\n}\n\n\nexport function changePasswordRequest(action) {\n    return async function(dispatch) {\n        dispatch({\n            type: CHANGE_PASSWORD_START\n        });\n        try {\n            const data = {\n                currentpassword: action.currentPassword,\n                newpassword: action.password\n            };\n            const response = await API.post('/accounts/change-password', data);\n            if(response) {\n                dispatch({\n                    type: CHANGE_PASSWORD_SUCCESS\n                });\n                action.reset && action.reset()\n                pushNotification(message.PASSWORD_CHANGE_SUCCESS, 'success', 'TOP_RIGHT', 3000);\n            }\n        } catch(error) {\n                if(error && error.response && error.response.data.error) {\n                    const errValue = error.response.data.error;\n                    pushNotification(errValue, 'error', 'TOP_RIGHT', 3000);    \n                } else {\n                    pushNotification(error.response.data, 'error', 'TOP_RIGHT', 3000)\n                }         \n                dispatch({\n                    type: CHANGE_PASSWORD_FAILURE\n                });\n        }\n       \n    }\n}\n"]},"metadata":{},"sourceType":"module"}